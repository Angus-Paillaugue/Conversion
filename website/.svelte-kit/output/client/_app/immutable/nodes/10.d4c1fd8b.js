import{s as nt,E as Qe,f as v,a as I,l as U,g as w,h as E,c as L,m as z,d,j as i,i as B,w as p,n as le,G as Ue,H as ze,I as Fe,u as j,B as X,x as ce,p as Te,r as pt,J as we,R as Ce,L as rt,C as Oe,o as _t,M as at,z as ae,N as it,A as ie,k as je,O as pe,S as Ne,e as Ge,K as ut}from"../chunks/scheduler.c54fe263.js";import{S as ft,i as ct,a as $,t as _e,h as Ee,b as Me,d as Be,m as He,e as Re,f as ht}from"../chunks/index.382b5808.js";import{g as mt}from"../chunks/globals.7f7f1b26.js";import{e as Le}from"../chunks/each.d996bcbb.js";import{f as dt}from"../chunks/index.eb37037f.js";import{e as De}from"../chunks/forms.672063bc.js";import{n as x}from"../chunks/stores.fcd534d1.js";import{c as gt}from"../chunks/copy.65aa4a8b.js";const bt=l=>({}),We=l=>({}),vt=l=>({}),Xe=l=>({});function Ye(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 transition-all group-hover:rotate-90"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',o,s;return{c(){e=v("button"),e.innerHTML=t,this.h()},l(a){e=w(a,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1sb1ni9"&&(e.innerHTML=t),this.h()},h(){i(e,"type","button"),i(e,"class","group absolute top-2 right-2 button-close")},m(a,r){B(a,e,r),o||(s=X(e,"click",l[5]),o=!0)},p:ce,d(a){a&&d(e),o=!1,s()}}}function wt(l){let e,t,o,s,a,r,u,f,_,y,g=l[1]&&Ye(l);const M=l[4].body,C=Qe(M,l,l[3],Xe),k=l[4].footer,m=Qe(k,l,l[3],We);return{c(){e=v("div"),t=v("div"),g&&g.c(),o=I(),s=v("h3"),a=U(l[2]),r=I(),C&&C.c(),u=I(),f=v("div"),m&&m.c(),this.h()},l(c){e=w(c,"DIV",{class:!0});var h=E(e);t=w(h,"DIV",{class:!0});var T=E(t);g&&g.l(T),o=L(T),s=w(T,"H3",{});var D=E(s);a=z(D,l[2]),D.forEach(d),r=L(T),C&&C.l(T),u=L(T),f=w(T,"DIV",{class:!0});var O=E(f);m&&m.l(O),O.forEach(d),T.forEach(d),h.forEach(d),this.h()},h(){i(f,"class","grid grid-cols-1 md:grid-cols-2 gap-2 lg:gap-4"),i(t,"class","rounded-lg bg-white dark:bg-neutral-800 p-4 flex flex-col gap-4 max-w-lg w-full relative"),i(e,"class",_="fixed top-O left-0 w-full h-full transition-opacity flex flex-col justify-center items-center bg-neutral-600/50 dark:bg-neutral-900/50 p-2 "+(l[0]?"opacity-100 z-40":"opacity-0 -z-10"))},m(c,h){B(c,e,h),p(e,t),g&&g.m(t,null),p(t,o),p(t,s),p(s,a),p(t,r),C&&C.m(t,null),p(t,u),p(t,f),m&&m.m(f,null),y=!0},p(c,[h]){c[1]?g?g.p(c,h):(g=Ye(c),g.c(),g.m(t,o)):g&&(g.d(1),g=null),(!y||h&4)&&le(a,c[2]),C&&C.p&&(!y||h&8)&&Ue(C,M,c,c[3],y?Fe(M,c[3],h,vt):ze(c[3]),Xe),m&&m.p&&(!y||h&8)&&Ue(m,k,c,c[3],y?Fe(k,c[3],h,bt):ze(c[3]),We),(!y||h&1&&_!==(_="fixed top-O left-0 w-full h-full transition-opacity flex flex-col justify-center items-center bg-neutral-600/50 dark:bg-neutral-900/50 p-2 "+(c[0]?"opacity-100 z-40":"opacity-0 -z-10")))&&i(e,"class",_)},i(c){y||($(C,c),$(m,c),y=!0)},o(c){_e(C,c),_e(m,c),y=!1},d(c){c&&d(e),g&&g.d(),C&&C.d(c),m&&m.d(c)}}}function kt(l,e,t){let{$$slots:o={},$$scope:s}=e,{status:a=!1}=e,{closeButton:r=!0}=e,{title:u}=e;const f=()=>{t(0,a=!1)};return l.$$set=_=>{"status"in _&&t(0,a=_.status),"closeButton"in _&&t(1,r=_.closeButton),"title"in _&&t(2,u=_.title),"$$scope"in _&&t(3,s=_.$$scope)},[a,r,u,s,o,f]}class Ie extends ft{constructor(e){super(),ct(this,e,kt,wt,nt,{status:0,closeButton:1,title:2})}}const{document:Je}=mt;function Ke(l,e,t){const o=l.slice();return o[37]=e[t],o[38]=e,o[39]=t,o}function Ze(l,e,t){const o=l.slice();return o[40]=e[t],o}function yt(l){let e,t='To be able to ask a question, you need to be <a href="/auth" class="link">logged-in</a>';return{c(){e=v("h3"),e.innerHTML=t},l(o){e=w(o,"H3",{"data-svelte-h":!0}),j(e)!=="svelte-hktqv9"&&(e.innerHTML=t)},m(o,s){B(o,e,s)},p:ce,d(o){o&&d(e)}}}function Tt(l){let e,t="New question",o,s,a,r,u=l[0].length===0&&xe();return{c(){e=v("button"),e.textContent=t,o=I(),u&&u.c(),s=Ge(),this.h()},l(f){e=w(f,"BUTTON",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1vi8tqu"&&(e.textContent=t),o=L(f),u&&u.l(f),s=Ge(),this.h()},h(){i(e,"class","button-primary")},m(f,_){B(f,e,_),B(f,o,_),u&&u.m(f,_),B(f,s,_),a||(r=X(e,"click",l[17]),a=!0)},p(f,_){f[0].length===0?u||(u=xe(),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},d(f){f&&(d(e),d(o),d(s)),u&&u.d(f),a=!1,r()}}}function xe(l){let e,t="No questions for now";return{c(){e=v("h2"),e.textContent=t},l(o){e=w(o,"H2",{"data-svelte-h":!0}),j(e)!=="svelte-73zjnf"&&(e.textContent=t)},m(o,s){B(o,e,s)},d(o){o&&d(e)}}}function $e(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 group-hover/button:text-red-600 transition-all"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',o,s;function a(){return l[18](l[37])}return{c(){e=v("button"),e.innerHTML=t,this.h()},l(r){e=w(r,"BUTTON",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-fnded1"&&(e.innerHTML=t),this.h()},h(){i(e,"class","absolute top-1 right-1 transition-all opacity-0 group-hover/question:opacity-100 group/button")},m(r,u){B(r,e,u),o||(s=X(e,"click",a),o=!0)},p(r,u){l=r},d(r){r&&d(e),o=!1,s()}}}function Ct(l){let e,t='To reply, please <a href="/auth" class="link">log-in</a>';return{c(){e=v("p"),e.innerHTML=t},l(o){e=w(o,"P",{"data-svelte-h":!0}),j(e)!=="svelte-1k8tzno"&&(e.innerHTML=t)},m(o,s){B(o,e,s)},p:ce,d(o){o&&d(e)}}}function Et(l){let e,t="Replie",o,s;function a(){return l[19](l[37])}return{c(){e=v("button"),e.textContent=t,this.h()},l(r){e=w(r,"BUTTON",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-afnqyf"&&(e.textContent=t),this.h()},h(){i(e,"class","button-secondary")},m(r,u){B(r,e,u),o||(s=X(e,"click",a),o=!0)},p(r,u){l=r},d(r){r&&d(e),o=!1,s()}}}function et(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 group-hover/button:text-red-600 transition-all"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',o,s;function a(){return l[21](l[37],l[40])}return{c(){e=v("button"),e.innerHTML=t,this.h()},l(r){e=w(r,"BUTTON",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-158m06d"&&(e.innerHTML=t),this.h()},h(){i(e,"class","absolute top-1 right-1 transition-all opacity-0 group-hover/replie:opacity-100 group/button")},m(r,u){B(r,e,u),o||(s=X(e,"click",a),o=!0)},p(r,u){l=r},d(r){r&&d(e),o=!1,s()}}}function tt(l){var c;let e,t,o,s=l[40].user.username+"",a,r,u,f=new Date(l[40].at).toLocaleDateString()+"",_,y,g,M,C=l[40].message.replaceAll(`
`,"<br />")+"",k,m=l[40].user.username===((c=l[11])==null?void 0:c.username)&&et(l);return{c(){e=v("div"),m&&m.c(),t=I(),o=v("h5"),a=U(s),r=U(" - "),u=v("small"),_=U(f),y=I(),g=v("p"),M=new at(!1),k=I(),this.h()},l(h){e=w(h,"DIV",{class:!0});var T=E(e);m&&m.l(T),t=L(T),o=w(T,"H5",{});var D=E(o);a=z(D,s),r=z(D," - "),u=w(D,"SMALL",{});var O=E(u);_=z(O,f),O.forEach(d),D.forEach(d),y=L(T),g=w(T,"P",{});var Y=E(g);M=it(Y,!1),Y.forEach(d),k=L(T),T.forEach(d),this.h()},h(){M.a=null,i(e,"class","flex flex-col gap-2 border-b border-neutral-200 dark:border-neutral-700 group/replie relative")},m(h,T){B(h,e,T),m&&m.m(e,null),p(e,t),p(e,o),p(o,a),p(o,r),p(o,u),p(u,_),p(e,y),p(e,g),M.m(C,g),p(e,k)},p(h,T){var D;h[40].user.username===((D=h[11])==null?void 0:D.username)?m?m.p(h,T):(m=et(h),m.c(),m.m(e,t)):m&&(m.d(1),m=null),T[0]&1&&s!==(s=h[40].user.username+"")&&le(a,s),T[0]&1&&f!==(f=new Date(h[40].at).toLocaleDateString()+"")&&le(_,f),T[0]&1&&C!==(C=h[40].message.replaceAll(`
`,"<br />")+"")&&M.p(C)},d(h){h&&d(e),m&&m.d()}}}function lt(l){var Z;let e,t,o,s,a,r=l[37].title+"",u,f,_,y=l[37].description.replaceAll(`
`,"<br />")+"",g,M,C=l[37].postedBy.username+"",k,m,c,h=new Date(l[37].postedAt).toLocaleDateString()+"",T,D,O,Y,G,F,se,ee=l[37].replies.length+"",ue,J,V,N,oe,ne,W,te,fe,re,he,P=l[37].postedBy.username===((Z=l[11])==null?void 0:Z.username)&&$e(l);function de(R,S){return R[11]?Et:Ct}let n=de(l)(l);function b(){return l[20](l[37],l[38],l[39])}let Q=Le(l[37].replies),H=[];for(let R=0;R<Q.length;R+=1)H[R]=tt(Ze(l,Q,R));function K(...R){return l[22](l[37],...R)}return{c(){e=v("div"),t=v("div"),P&&P.c(),o=I(),s=v("div"),a=v("h3"),u=U(r),f=I(),_=new at(!1),g=I(),M=v("h6"),k=U(C),m=U(" - "),c=v("small"),T=U(h),D=I(),O=v("div"),n.c(),Y=I(),G=v("div"),F=v("button"),se=U("Show replies ("),ue=U(ee),J=U(`)\r
                        `),V=ae("svg"),N=ae("path"),ne=I(),W=v("div");for(let R=0;R<H.length;R+=1)H[R].c();fe=I(),this.h()},l(R){e=w(R,"DIV",{class:!0});var S=E(e);t=w(S,"DIV",{class:!0});var A=E(t);P&&P.l(A),o=L(A),s=w(A,"DIV",{class:!0});var q=E(s);a=w(q,"H3",{});var be=E(a);u=z(be,r),be.forEach(d),f=L(q),_=it(q,!1),g=L(q),M=w(q,"H6",{});var ke=E(M);k=z(ke,C),m=z(ke," - "),c=w(ke,"SMALL",{});var Se=E(c);T=z(Se,h),Se.forEach(d),ke.forEach(d),D=L(q),O=w(q,"DIV",{class:!0});var qe=E(O);n.l(qe),qe.forEach(d),q.forEach(d),A.forEach(d),Y=L(S),G=w(S,"DIV",{class:!0});var ye=E(G);F=w(ye,"BUTTON",{class:!0,type:!0});var ve=E(F);se=z(ve,"Show replies ("),ue=z(ve,ee),J=z(ve,`)\r
                        `),V=ie(ve,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Ve=E(V);N=ie(Ve,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),E(N).forEach(d),Ve.forEach(d),ve.forEach(d),ne=L(ye),W=w(ye,"DIV",{class:!0,style:!0,"data-replie-container":!0});var Pe=E(W);for(let Ae=0;Ae<H.length;Ae+=1)H[Ae].l(Pe);Pe.forEach(d),ye.forEach(d),fe=L(S),S.forEach(d),this.h()},h(){_.a=g,i(O,"class","w-full"),i(s,"class","flex flex-col gap-2"),i(t,"class","group/question flex flex-col gap-2"),i(N,"stroke-linecap","round"),i(N,"stroke-linejoin","round"),i(N,"d","M19.5 8.25l-7.5 7.5-7.5-7.5"),i(V,"xmlns","http://www.w3.org/2000/svg"),i(V,"fill","none"),i(V,"viewBox","0 0 24 24"),i(V,"stroke-width","1.5"),i(V,"stroke","currentColor"),i(V,"class",oe="w-6 h-6 transition-all "+(!l[37].hiddenReplies&&"rotate-180")),i(F,"class","w-full flex flex-row gap-4 no-scale underline"),i(F,"type","button"),i(W,"class","flex flex-col gap-4 pl-2 w-full overflow-hidden transition-all"),je(W,"max-height",(l[4].length>0?l[37].hiddenReplies?"0":l[4].find(K).height:0)+"px"),i(W,"data-replie-container",te=l[37].id),i(G,"class","flex flex-col gap-2"),i(e,"class","w-full flex flex-col gap-2 px-2 border-x border-neutral-200 dark:border-neutral-700 relative")},m(R,S){B(R,e,S),p(e,t),P&&P.m(t,null),p(t,o),p(t,s),p(s,a),p(a,u),p(s,f),_.m(y,s),p(s,g),p(s,M),p(M,k),p(M,m),p(M,c),p(c,T),p(s,D),p(s,O),n.m(O,null),p(e,Y),p(e,G),p(G,F),p(F,se),p(F,ue),p(F,J),p(F,V),p(V,N),p(G,ne),p(G,W);for(let A=0;A<H.length;A+=1)H[A]&&H[A].m(W,null);p(e,fe),re||(he=X(F,"click",b),re=!0)},p(R,S){var A;if(l=R,l[37].postedBy.username===((A=l[11])==null?void 0:A.username)?P?P.p(l,S):(P=$e(l),P.c(),P.m(t,o)):P&&(P.d(1),P=null),S[0]&1&&r!==(r=l[37].title+"")&&le(u,r),S[0]&1&&y!==(y=l[37].description.replaceAll(`
`,"<br />")+"")&&_.p(y),S[0]&1&&C!==(C=l[37].postedBy.username+"")&&le(k,C),S[0]&1&&h!==(h=new Date(l[37].postedAt).toLocaleDateString()+"")&&le(T,h),n.p(l,S),S[0]&1&&ee!==(ee=l[37].replies.length+"")&&le(ue,ee),S[0]&1&&oe!==(oe="w-6 h-6 transition-all "+(!l[37].hiddenReplies&&"rotate-180"))&&i(V,"class",oe),S[0]&2573){Q=Le(l[37].replies);let q;for(q=0;q<Q.length;q+=1){const be=Ze(l,Q,q);H[q]?H[q].p(be,S):(H[q]=tt(be),H[q].c(),H[q].m(W,null))}for(;q<H.length;q+=1)H[q].d(1);H.length=Q.length}S[0]&17&&je(W,"max-height",(l[4].length>0?l[37].hiddenReplies?"0":l[4].find(K).height:0)+"px"),S[0]&1&&te!==(te=l[37].id)&&i(W,"data-replie-container",te)},d(R){R&&d(e),P&&P.d(),n.d(),rt(H,R),re=!1,he()}}}function Mt(l){let e,t='<p><span class="text-red-600 font-semibold">WARNING</span> : This operation is irreversible. Are you sure you want to delete this replie ?</p>',o,s,a;return{c(){e=v("form"),e.innerHTML=t,this.h()},l(r){e=w(r,"FORM",{method:!0,slot:!0,id:!0,class:!0,action:!0,"data-svelte-h":!0}),j(e)!=="svelte-1ccx25i"&&(e.innerHTML=t),this.h()},h(){i(e,"method","POST"),i(e,"slot","body"),i(e,"id","deleteReplieForm"),i(e,"class","flex flex-col gap-4"),i(e,"action","?/deleteReplie")},m(r,u){B(r,e,u),s||(a=we(o=De.call(null,e,l[24])),s=!0)},p(r,u){o&&Ne(o.update)&&u[0]&12&&o.update.call(null,r[24])},d(r){r&&d(e),s=!1,a()}}}function Bt(l){let e,t="No, cancel",o,s,a="Yes, delete",r,u;return{c(){e=v("button"),e.textContent=t,o=I(),s=v("button"),s.textContent=a,this.h()},l(f){e=w(f,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(e)!=="svelte-14ky8oi"&&(e.textContent=t),o=L(f),s=w(f,"BUTTON",{class:!0,type:!0,form:!0,"data-svelte-h":!0}),j(s)!=="svelte-l3fsyw"&&(s.textContent=a),this.h()},h(){i(e,"class","button-secondary"),i(e,"type","button"),i(s,"class","button-primary"),i(s,"type","submit"),i(s,"form","deleteReplieForm")},m(f,_){B(f,e,_),B(f,o,_),B(f,s,_),r||(u=X(e,"click",l[23]),r=!0)},p:ce,d(f){f&&(d(e),d(o),d(s)),r=!1,u()}}}function Ht(l){let e,t='<p><span class="text-red-600 font-semibold">WARNING</span> : This operation is irreversible. Are you sure you want to delete this question ?</p>',o,s,a;return{c(){e=v("form"),e.innerHTML=t,this.h()},l(r){e=w(r,"FORM",{method:!0,slot:!0,id:!0,action:!0,"data-svelte-h":!0}),j(e)!=="svelte-1dc9aoe"&&(e.innerHTML=t),this.h()},h(){i(e,"method","POST"),i(e,"slot","body"),i(e,"id","deleteQuestionForm"),i(e,"action","?/deleteQuestion")},m(r,u){B(r,e,u),s||(a=we(o=De.call(null,e,l[27])),s=!0)},p(r,u){o&&Ne(o.update)&&u[0]&8&&o.update.call(null,r[27])},d(r){r&&d(e),s=!1,a()}}}function Rt(l){let e,t="No, cancel",o,s,a="Yes, delete",r,u;return{c(){e=v("button"),e.textContent=t,o=I(),s=v("button"),s.textContent=a,this.h()},l(f){e=w(f,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(e)!=="svelte-1ks6b4t"&&(e.textContent=t),o=L(f),s=w(f,"BUTTON",{class:!0,type:!0,form:!0,"data-svelte-h":!0}),j(s)!=="svelte-jl5qyx"&&(s.textContent=a),this.h()},h(){i(e,"class","button-secondary"),i(e,"type","button"),i(s,"class","button-primary"),i(s,"type","submit"),i(s,"form","deleteQuestionForm")},m(f,_){B(f,e,_),B(f,o,_),B(f,s,_),r||(u=X(e,"click",l[26]),r=!0)},p:ce,d(f){f&&(d(e),d(o),d(s)),r=!1,u()}}}function It(l){var m;let e,t,o,s,a,r=((m=l[1])==null?void 0:m.length)+"",u,f,_,y,g,M,C,k;return{c(){e=v("form"),t=v("input"),o=I(),s=v("div"),a=v("span"),u=U(r),f=U("/"),_=U(me),y=I(),g=v("textarea"),this.h()},l(c){e=w(c,"FORM",{slot:!0,method:!0,class:!0,action:!0,id:!0});var h=E(e);t=w(h,"INPUT",{type:!0,name:!0,placeholder:!0}),o=L(h),s=w(h,"DIV",{class:!0});var T=E(s);a=w(T,"SPAN",{class:!0});var D=E(a);u=z(D,r),f=z(D,"/"),_=z(D,me),D.forEach(d),y=L(T),g=w(T,"TEXTAREA",{name:!0,placeholder:!0,rows:!0}),E(g).forEach(d),T.forEach(d),h.forEach(d),this.h()},h(){i(t,"type","text"),i(t,"name","title"),i(t,"placeholder","Question title"),i(a,"class","absolute top-1 right-1 text-xs font-normal"),i(g,"name","description"),i(g,"placeholder","Question content"),i(g,"rows","6"),i(s,"class","relative"),i(e,"slot","body"),i(e,"method","POST"),i(e,"class","space-y-2"),i(e,"action","?/newQuestion"),i(e,"id","newQuestionForm")},m(c,h){B(c,e,h),p(e,t),pe(t,l[10]),p(e,o),p(e,s),p(s,a),p(a,u),p(a,f),p(a,_),p(s,y),p(s,g),pe(g,l[1]),C||(k=[X(t,"input",l[29]),X(g,"input",l[30]),we(M=De.call(null,e,l[31]))],C=!0)},p(c,h){var T;h[0]&1024&&t.value!==c[10]&&pe(t,c[10]),h[0]&2&&r!==(r=((T=c[1])==null?void 0:T.length)+"")&&le(u,r),h[0]&2&&pe(g,c[1]),M&&Ne(M.update)&&h[0]&128&&M.update.call(null,c[31])},d(c){c&&d(e),C=!1,Oe(k)}}}function st(l){let e,t,o,s;return{c(){e=ae("svg"),t=ae("circle"),o=ae("path"),this.h()},l(a){e=ie(a,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0});var r=E(e);t=ie(r,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),E(t).forEach(d),o=ie(r,"path",{class:!0,fill:!0,d:!0}),E(o).forEach(d),r.forEach(d),this.h()},h(){i(t,"class","opacity-25"),i(t,"cx","12"),i(t,"cy","12"),i(t,"r","10"),i(t,"stroke","currentColor"),i(t,"stroke-width","4"),i(o,"class","opacity-75"),i(o,"fill","currentColor"),i(o,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),i(e,"class","animate-spin -ml-1 mr-3 h-5 w-5 text-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24")},m(a,r){B(a,e,r),p(e,t),p(e,o)},i(a){a&&(s||ut(()=>{s=ht(e,dt,{y:100,duration:400}),s.start()}))},o:ce,d(a){a&&d(e)}}}function Lt(l){let e,t,o,s="Post",a,r=l[7]&&st();return{c(){e=v("button"),r&&r.c(),t=I(),o=v("span"),o.textContent=s,this.h()},l(u){e=w(u,"BUTTON",{type:!0,class:!0,form:!0});var f=E(e);r&&r.l(f),t=L(f),o=w(f,"SPAN",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-1pzyyxo"&&(o.textContent=s),f.forEach(d),this.h()},h(){var u,f;i(o,"class","transition-all"),i(e,"type","submit"),i(e,"class","button-primary transition-all overflow-hidden w-full"),e.disabled=a=((u=l[1])==null?void 0:u.length)===0||((f=l[10])==null?void 0:f.length)===0,i(e,"form","newQuestionForm")},m(u,f){B(u,e,f),r&&r.m(e,null),p(e,t),p(e,o)},p(u,f){var _,y;u[7]?r?f[0]&128&&$(r,1):(r=st(),r.c(),$(r,1),r.m(e,t)):r&&(r.d(1),r=null),f[0]&1026&&a!==(a=((_=u[1])==null?void 0:_.length)===0||((y=u[10])==null?void 0:y.length)===0)&&(e.disabled=a)},d(u){u&&d(e),r&&r.d()}}}function Nt(l){var C;let e,t,o,s=((C=l[1])==null?void 0:C.length)+"",a,r,u,f,_,y,g,M;return{c(){e=v("form"),t=v("div"),o=v("span"),a=U(s),r=U("/"),u=U(me),f=I(),_=v("textarea"),this.h()},l(k){e=w(k,"FORM",{slot:!0,id:!0,method:!0,class:!0,action:!0});var m=E(e);t=w(m,"DIV",{class:!0});var c=E(t);o=w(c,"SPAN",{class:!0});var h=E(o);a=z(h,s),r=z(h,"/"),u=z(h,me),h.forEach(d),f=L(c),_=w(c,"TEXTAREA",{placeholder:!0,name:!0,rows:!0}),E(_).forEach(d),c.forEach(d),m.forEach(d),this.h()},h(){i(o,"class","absolute top-1 right-1 text-xs font-normal"),i(_,"placeholder","Replie content"),i(_,"name","message"),i(_,"rows","6"),i(t,"class","relative"),i(e,"slot","body"),i(e,"id","newReplieForm"),i(e,"method","POST"),i(e,"class","w-full"),i(e,"action","?/newReplie")},m(k,m){B(k,e,m),p(e,t),p(t,o),p(o,a),p(o,r),p(o,u),p(t,f),p(t,_),pe(_,l[1]),g||(M=[X(_,"input",l[33]),we(y=De.call(null,e,l[34]))],g=!0)},p(k,m){var c;m[0]&2&&s!==(s=((c=k[1])==null?void 0:c.length)+"")&&le(a,s),m[0]&2&&pe(_,k[1]),y&&Ne(y.update)&&m[0]&136&&y.update.call(null,k[34])},d(k){k&&d(e),g=!1,Oe(M)}}}function ot(l){let e,t,o,s;return{c(){e=ae("svg"),t=ae("circle"),o=ae("path"),this.h()},l(a){e=ie(a,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0});var r=E(e);t=ie(r,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),E(t).forEach(d),o=ie(r,"path",{class:!0,fill:!0,d:!0}),E(o).forEach(d),r.forEach(d),this.h()},h(){i(t,"class","opacity-25"),i(t,"cx","12"),i(t,"cy","12"),i(t,"r","10"),i(t,"stroke","currentColor"),i(t,"stroke-width","4"),i(o,"class","opacity-75"),i(o,"fill","currentColor"),i(o,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),i(e,"class","animate-spin -ml-1 mr-3 h-5 w-5 text-white"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24")},m(a,r){B(a,e,r),p(e,t),p(e,o)},i(a){a&&(s||ut(()=>{s=ht(e,dt,{y:100,duration:400}),s.start()}))},o:ce,d(a){a&&d(e)}}}function Dt(l){let e,t,o,s="Reply",a,r=l[7]&&ot();return{c(){e=v("button"),r&&r.c(),t=I(),o=v("span"),o.textContent=s,this.h()},l(u){e=w(u,"BUTTON",{type:!0,class:!0,form:!0});var f=E(e);r&&r.l(f),t=L(f),o=w(f,"SPAN",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-139oi22"&&(o.textContent=s),f.forEach(d),this.h()},h(){var u;i(o,"class","transition-all"),i(e,"type","submit"),i(e,"class","button-primary w-full transition-all overflow-hidden"),e.disabled=a=((u=l[1])==null?void 0:u.length)===0,i(e,"form","newReplieForm")},m(u,f){B(u,e,f),r&&r.m(e,null),p(e,t),p(e,o)},p(u,f){var _;u[7]?r?f[0]&128&&$(r,1):(r=ot(),r.c(),$(r,1),r.m(e,t)):r&&(r.d(1),r=null),f[0]&2&&a!==(a=((_=u[1])==null?void 0:_.length)===0)&&(e.disabled=a)},d(u){u&&d(e),r&&r.d()}}}function At(l){var de,ge;let e,t,o,s,a,r,u,f,_,y,g,M,C,k,m,c,h,T,D,O,Y,G,F,se;function ee(n,b){return n[11]?Tt:yt}let J=ee(l)(l),V=Le(l[0]),N=[];for(let n=0;n<V.length;n+=1)N[n]=lt(Ke(l,V,n));function oe(n){l[25](n)}let ne={title:"Delete replie",$$slots:{footer:[Bt],body:[Mt]},$$scope:{ctx:l}};l[9]!==void 0&&(ne.status=l[9]),g=new Ie({props:ne}),Te.push(()=>Ee(g,"status",oe));function W(n){l[28](n)}let te={title:"Delete question",closeButton:!1,$$slots:{footer:[Rt],body:[Ht]},$$scope:{ctx:l}};l[6]!==void 0&&(te.status=l[6]),k=new Ie({props:te}),Te.push(()=>Ee(k,"status",W));function fe(n){l[32](n)}let re={title:"New question",$$slots:{footer:[Lt],body:[It]},$$scope:{ctx:l}};l[8]!==void 0&&(re.status=l[8]),h=new Ie({props:re}),Te.push(()=>Ee(h,"status",fe));function he(n){l[36](n)}let P={title:`Reply to ${l[3]?(ge=(de=l[0].filter(l[35])[0])==null?void 0:de.postedBy)==null?void 0:ge.username:""}`,$$slots:{footer:[Dt],body:[Nt]},$$scope:{ctx:l}};return l[5]!==void 0&&(P.status=l[5]),O=new Ie({props:P}),Te.push(()=>Ee(O,"status",he)),{c(){e=I(),t=v("div"),o=v("div"),s=v("h6"),a=U("Support e-mail : "),r=v("button"),u=U(l[12]),f=I(),J.c(),_=I();for(let n=0;n<N.length;n+=1)N[n].c();y=I(),Me(g.$$.fragment),C=I(),Me(k.$$.fragment),c=I(),Me(h.$$.fragment),D=I(),Me(O.$$.fragment),this.h()},l(n){pt("svelte-by7ird",Je.head).forEach(d),e=L(n),t=w(n,"DIV",{class:!0});var Q=E(t);o=w(Q,"DIV",{class:!0});var H=E(o);s=w(H,"H6",{class:!0});var K=E(s);a=z(K,"Support e-mail : "),r=w(K,"BUTTON",{class:!0});var Z=E(r);u=z(Z,l[12]),Z.forEach(d),K.forEach(d),f=L(H),J.l(H),_=L(H);for(let R=0;R<N.length;R+=1)N[R].l(H);H.forEach(d),Q.forEach(d),y=L(n),Be(g.$$.fragment,n),C=L(n),Be(k.$$.fragment,n),c=L(n),Be(h.$$.fragment,n),D=L(n),Be(O.$$.fragment,n),this.h()},h(){Je.title="PCC - Get Help",i(r,"class","font-semibold"),i(s,"class","font-normal"),i(o,"class","w-full h-full flex flex-col gap-4"),i(t,"class","max-w-screen-lg mx-auto mt-4 grow w-full py-8 px-4 lg:px-6")},m(n,b){B(n,e,b),B(n,t,b),p(t,o),p(o,s),p(s,a),p(s,r),p(r,u),p(o,f),J.m(o,null),p(o,_);for(let Q=0;Q<N.length;Q+=1)N[Q]&&N[Q].m(o,null);B(n,y,b),He(g,n,b),B(n,C,b),He(k,n,b),B(n,c,b),He(h,n,b),B(n,D,b),He(O,n,b),G=!0,F||(se=[we(gt.call(null,r,l[12])),X(r,"svelte-copy",l[15]),X(r,"svelte-copy:error",l[16])],F=!0)},p(n,b){var R,S;if(J.p(n,b),b[0]&2685){V=Le(n[0]);let A;for(A=0;A<V.length;A+=1){const q=Ke(n,V,A);N[A]?N[A].p(q,b):(N[A]=lt(q),N[A].c(),N[A].m(o,null))}for(;A<N.length;A+=1)N[A].d(1);N.length=V.length}const Q={};b[0]&524|b[1]&4096&&(Q.$$scope={dirty:b,ctx:n}),!M&&b[0]&512&&(M=!0,Q.status=n[9],Ce(()=>M=!1)),g.$set(Q);const H={};b[0]&72|b[1]&4096&&(H.$$scope={dirty:b,ctx:n}),!m&&b[0]&64&&(m=!0,H.status=n[6],Ce(()=>m=!1)),k.$set(H);const K={};b[0]&1154|b[1]&4096&&(K.$$scope={dirty:b,ctx:n}),!T&&b[0]&256&&(T=!0,K.status=n[8],Ce(()=>T=!1)),h.$set(K);const Z={};b[0]&9&&(Z.title=`Reply to ${n[3]?(S=(R=n[0].filter(n[35])[0])==null?void 0:R.postedBy)==null?void 0:S.username:""}`),b[0]&138|b[1]&4096&&(Z.$$scope={dirty:b,ctx:n}),!Y&&b[0]&32&&(Y=!0,Z.status=n[5],Ce(()=>Y=!1)),O.$set(Z)},i(n){G||($(g.$$.fragment,n),$(k.$$.fragment,n),$(h.$$.fragment,n),$(O.$$.fragment,n),G=!0)},o(n){_e(g.$$.fragment,n),_e(k.$$.fragment,n),_e(h.$$.fragment,n),_e(O.$$.fragment,n),G=!1},d(n){n&&(d(e),d(t),d(y),d(C),d(c),d(D)),J.d(),rt(N,n),Re(g,n),Re(k,n),Re(h,n),Re(O,n),F=!1,Oe(se)}}}const me=1e3;function Ot(l,e,t){let{data:o}=e,{form:s}=e,{questions:a,user:r,supportEmail:u}=o;a=a.map(n=>({...n,hiddenReplies:!0}));let f=!1,_=!1,y=!1,g=!1,M=!1,C="",k="",m,c,h=[];_t(()=>{const n=document.querySelectorAll("[data-replie-container]");t(4,h=Array.from(n).map(b=>({height:b.scrollHeight,el:b,questionId:b.dataset.replieContainer})))});const T=()=>{x("success","Copied to clipboard successfully!")},D=()=>{x("error","An error occurred while copying to the clipboard")},O=()=>{t(8,g=!g)},Y=n=>{t(3,c=n.id),t(6,_=!_)},G=n=>{t(3,c=n.id),t(5,f=!f)},F=(n,b,Q)=>{t(0,b[Q].hiddenReplies=!n.hiddenReplies,a)},se=(n,b)=>{t(3,c=n.id),t(2,m=b.id),t(9,M=!M)},ee=(n,b)=>b.questionId===n.id,ue=()=>{t(9,M=!1)},J=n=>(n.formData.set("questionId",c),n.formData.set("replieId",m),({update:b})=>{b({reset:!1})});function V(n){M=n,t(9,M),t(13,s),t(0,a),t(3,c),t(4,h),t(2,m)}const N=()=>{t(6,_=!1)},oe=n=>(n.formData.set("questionId",c),({update:b})=>{b({reset:!1})});function ne(n){_=n,t(6,_),t(13,s),t(0,a),t(3,c),t(4,h),t(2,m)}function W(){C=this.value,t(10,C),t(13,s),t(0,a),t(3,c),t(4,h),t(2,m)}function te(){k=this.value,t(1,k),t(13,s),t(0,a),t(3,c),t(4,h),t(2,m)}const fe=()=>(t(7,y=!0),({update:n})=>{t(7,y=!1),n({reset:!1})});function re(n){g=n,t(8,g),t(13,s),t(0,a),t(3,c),t(4,h),t(2,m)}function he(){k=this.value,t(1,k),t(13,s),t(0,a),t(3,c),t(4,h),t(2,m)}const P=n=>(t(7,y=!0),n.formData.set("postId",c),({update:b})=>{t(7,y=!1),b({reset:!1})}),de=n=>n.id===c;function ge(n){f=n,t(5,f),t(13,s),t(0,a),t(3,c),t(4,h),t(2,m)}return l.$$set=n=>{"data"in n&&t(14,o=n.data),"form"in n&&t(13,s=n.form)},l.$$.update=()=>{l.$$.dirty[0]&2&&(k==null?void 0:k.length)>me&&t(1,k=k.slice(0,me)),l.$$.dirty[0]&8221&&s&&(s.name==="newReplie"?s.status==="success"?(x("success",s.message),t(0,a=a.map(n=>n.id===c?{...n,replies:[...n.replies,s.data]}:n)),t(5,f=!1),t(1,k=""),h.find(n=>n.questionId===c).height=Array.from(h.find(n=>n.questionId===c).el.children).map(n=>n.clientHeight)+h.find(n=>n.questionId===c).el.children.length-1*8,t(4,h=[...h]),t(3,c=null)):x("error",s.message):s.name==="newQuestion"?s.status==="success"?(x("success",s.message),t(0,a=[...a,s.data]),t(8,g=!1),t(1,k=""),t(10,C="")):x("error",s.message):s.name==="deleteQuestion"?s.status==="success"?(x("success",s.message),t(0,a=a.filter(n=>n.id!==c)),t(3,c=null),t(6,_=!1)):x("error",s.message):s.name==="deleteReplie"&&(s.status==="success"?(x("success",s.message),t(0,a=a.map(n=>n.id===c?{...n,replies:n.replies.filter(b=>b.id!==m)}:n)),h.find(n=>n.questionId===c).height=h.find(n=>n.questionId===c).el.scrollHeight,t(9,M=!1),t(3,c=null)):x("error",s.message)),t(13,s=null))},[a,k,m,c,h,f,_,y,g,M,C,r,u,s,o,T,D,O,Y,G,F,se,ee,ue,J,V,N,oe,ne,W,te,fe,re,he,P,de,ge]}class jt extends ft{constructor(e){super(),ct(this,e,Ot,At,nt,{data:14,form:13},null,[-1,-1])}}export{jt as component};
