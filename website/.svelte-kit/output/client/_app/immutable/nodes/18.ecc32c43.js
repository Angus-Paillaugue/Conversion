import{s as $,a as E,f as v,l as z,r as G,d as b,c as N,g as y,h as S,u as J,m as K,j as i,i as M,w as h,I as Q}from"../chunks/scheduler.48e732d9.js";import{S as W,i as X,a as C,t as T,c as Z,b as x,d as ee,m as se,e as ae,g as te}from"../chunks/index.d806ca90.js";import{e as re}from"../chunks/forms.e3321b62.js";import{A as oe}from"../chunks/Alert.91e35944.js";function V(o){var s;let r,n;return r=new oe({props:{type:o[1].success?"success":"error",message:o[1].success?'Your password has successfully been changed. you can now <a class="link" href="/auth">log-in</a> into your account.':((s=o[1])==null?void 0:s.message)??o[0].message}}),{c(){x(r.$$.fragment)},l(e){ee(r.$$.fragment,e)},m(e,c){se(r,e,c),n=!0},p(e,c){var l;const _={};c&2&&(_.type=e[1].success?"success":"error"),c&3&&(_.message=e[1].success?'Your password has successfully been changed. you can now <a class="link" href="/auth">log-in</a> into your account.':((l=e[1])==null?void 0:l.message)??e[0].message),r.$set(_)},i(e){n||(C(r.$$.fragment,e),n=!0)},o(e){T(r.$$.fragment,e),n=!1},d(e){ae(r,e)}}}function ne(o){var U,Y,j;let r,n,s,e,c="New password",_,l,w,D,k,d,I,P,g,O,A,t=(((U=o[1])==null?void 0:U.success)||((Y=o[1])==null?void 0:Y.error)||((j=o[0])==null?void 0:j.error))&&V(o),R=le;return{c(){r=E(),n=v("div"),s=v("form"),e=v("h1"),e.textContent=c,_=E(),l=v("input"),D=E(),t&&t.c(),k=E(),d=v("button"),I=z(`\r
            Change password`),this.h()},l(a){G("svelte-1chsx13",document.head).forEach(b),r=N(a),n=y(a,"DIV",{class:!0});var f=S(n);s=y(f,"FORM",{class:!0,method:!0,action:!0});var u=S(s);e=y(u,"H1",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-16062ge"&&(e.textContent=c),_=N(u),l=y(u,"INPUT",{type:!0,placeholder:!0,name:!0,id:!0,class:!0}),D=N(u),t&&t.l(u),k=N(u),d=y(u,"BUTTON",{class:!0,type:!0});var p=S(d);I=K(p,`\r
            Change password`),p.forEach(b),u.forEach(b),f.forEach(b),this.h()},h(){var a,m,f,u,p;document.title="PCC - Reset password",i(e,"class","mb-4"),i(l,"type","password"),i(l,"placeholder","New password"),i(l,"name","password"),i(l,"id","password"),l.value=w=((m=(a=o[1])==null?void 0:a.formData)==null?void 0:m.username)||"",i(l,"class","mb-4"),i(d,"class","button-primary"),i(d,"type","submit"),d.disabled=P=((f=o[1])==null?void 0:f.error)||((u=o[0])==null?void 0:u.error)||((p=o[1])==null?void 0:p.success),i(s,"class","rounded-lg md:p-10 p-6 bg-transparent text-start transition-all border border-gray-200 dark:border-neutral-700 w-full max-w-md mx-auto flex flex-col gap-4"),i(s,"method","POST"),i(s,"action","?/resetPassword"),i(n,"class","py-8 px-4 lg:py-16 lg:px-6 w-full grow")},m(a,m){M(a,r,m),M(a,n,m),h(n,s),h(s,e),h(s,_),h(s,l),h(s,D),t&&t.m(s,null),h(s,k),h(s,d),h(d,I),g=!0,O||(A=Q(re.call(null,s)),O=!0)},p(a,[m]){var f,u,p,q,B,F,H,L;(!g||m&2&&w!==(w=((u=(f=a[1])==null?void 0:f.formData)==null?void 0:u.username)||"")&&l.value!==w)&&(l.value=w),(p=a[1])!=null&&p.success||(q=a[1])!=null&&q.error||(B=a[0])!=null&&B.error?t?(t.p(a,m),m&3&&C(t,1)):(t=V(a),t.c(),C(t,1),t.m(s,k)):t&&(te(),T(t,1,1,()=>{t=null}),Z()),(!g||m&3&&P!==(P=((F=a[1])==null?void 0:F.error)||((H=a[0])==null?void 0:H.error)||((L=a[1])==null?void 0:L.success)))&&(d.disabled=P)},i(a){g||(C(t),C(R),g=!0)},o(a){T(t),T(R),g=!1},d(a){a&&(b(r),b(n)),t&&t.d(),O=!1,A()}}}let le=!1;function ue(o,r,n){let{data:s}=r,{form:e}=r;return o.$$set=c=>{"data"in c&&n(0,s=c.data),"form"in c&&n(1,e=c.form)},[s,e]}class fe extends W{constructor(r){super(),X(this,r,ue,ne,$,{data:0,form:1})}}export{fe as component};
