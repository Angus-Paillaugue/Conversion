import{s as D,Q as S,f as p,a as C,g,h as E,c as H,u as I,d as _,j as m,R as B,i as w,w as k,z as N,x as T,A as R,S as j,T as U,W as z,p as J,l as q,m as A,n as Q,U as W}from"../chunks/scheduler.48e732d9.js";import{S as O,i as V,t as L,c as F,a as P,g as G,h as K,b as X,d as Z,m as $,e as ee}from"../chunks/index.d806ca90.js";import{n as te}from"../chunks/stores.cc8b6fab.js";function se(i){let e,a,t,s,r,u="<em></em>",n,h,o=[{class:"switch-wrapper"},i[2]],c={};for(let l=0;l<o.length;l+=1)c=S(c,o[l]);return{c(){e=p("div"),a=p("input"),t=C(),s=p("label"),r=p("span"),r.innerHTML=u,this.h()},l(l){e=g(l,"DIV",{class:!0});var f=E(e);a=g(f,"INPUT",{type:!0,id:!0,class:!0}),t=H(f),s=g(f,"LABEL",{for:!0});var v=E(s);r=g(v,"SPAN",{"data-svelte-h":!0}),I(r)!=="svelte-1qeeisj"&&(r.innerHTML=u),v.forEach(_),f.forEach(_),this.h()},h(){m(a,"type","checkbox"),m(a,"id",i[1]),m(a,"class","hidden"),m(s,"for",i[1]),B(e,c)},m(l,f){w(l,e,f),k(e,a),a.checked=i[0],k(e,t),k(e,s),k(s,r),n||(h=[N(a,"change",i[4]),N(a,"change",i[3])],n=!0)},p(l,[f]){f&2&&m(a,"id",l[1]),f&1&&(a.checked=l[0]),f&2&&m(s,"for",l[1])},i:T,o:T,d(l){l&&_(e),n=!1,R(h)}}}function ae(i,e,a){const t=["checked","id"];let s=j(e,t),{checked:r=!1}=e,{id:u}=e;const n=s;delete n.checked;function h(c){z.call(this,i,c)}function o(){r=this.checked,a(0,r)}return i.$$set=c=>{e=S(S({},e),U(c)),a(5,s=j(e,t)),"checked"in c&&a(0,r=c.checked),"id"in c&&a(1,u=c.id)},[r,u,n,h,o]}class ne extends O{constructor(e){super(),V(this,e,ae,se,D,{checked:0,id:1})}}function le(i){let e,a='You are not subscribed to the newsletter, click <a href="/#newsletter" class="link">here</a> to register.';return{c(){e=p("h6"),e.innerHTML=a,this.h()},l(t){e=g(t,"H6",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-7i3w6k"&&(e.innerHTML=a),this.h()},h(){m(e,"class","font-normal")},m(t,s){w(t,e,s)},p:T,i:T,o:T,d(t){t&&_(e)}}}function ie(i){let e,a,t,s=i[0].email+"",r,u,n,h,o="Receive e-mails :",c,l,f,v;function Y(d){i[3](d)}let M={id:"darkMode"};return i[0].sendEmails!==void 0&&(M.checked=i[0].sendEmails),l=new ne({props:M}),J.push(()=>K(l,"checked",Y)),l.$on("change",i[1]),{c(){e=p("h6"),a=q("Your e-mail : "),t=p("b"),r=q(s),u=C(),n=p("div"),h=p("p"),h.textContent=o,c=C(),X(l.$$.fragment),this.h()},l(d){e=g(d,"H6",{class:!0});var b=E(e);a=A(b,"Your e-mail : "),t=g(b,"B",{});var x=E(t);r=A(x,s),x.forEach(_),b.forEach(_),u=H(d),n=g(d,"DIV",{class:!0});var y=E(n);h=g(y,"P",{"data-svelte-h":!0}),I(h)!=="svelte-1y94uex"&&(h.textContent=o),c=H(y),Z(l.$$.fragment,y),y.forEach(_),this.h()},h(){m(e,"class","font-normal"),m(n,"class","flex flex-row gap-2")},m(d,b){w(d,e,b),k(e,a),k(e,t),k(t,r),w(d,u,b),w(d,n,b),k(n,h),k(n,c),$(l,n,null),v=!0},p(d,b){(!v||b&1)&&s!==(s=d[0].email+"")&&Q(r,s);const x={};!f&&b&1&&(f=!0,x.checked=d[0].sendEmails,W(()=>f=!1)),l.$set(x)},i(d){v||(P(l.$$.fragment,d),v=!0)},o(d){L(l.$$.fragment,d),v=!1},d(d){d&&(_(e),_(u),_(n)),ee(l)}}}function ce(i){let e,a,t,s,r;const u=[ie,le],n=[];function h(o,c){return o[0]?0:1}return t=h(i),s=n[t]=u[t](i),{c(){e=p("section"),a=p("div"),s.c(),this.h()},l(o){e=g(o,"SECTION",{class:!0});var c=E(e);a=g(c,"DIV",{class:!0});var l=E(a);s.l(l),l.forEach(_),c.forEach(_),this.h()},h(){m(a,"class","border-neutral-200 border dark:border-neutral-700 rounded-lg p-6 flex flex-col gap-4"),m(e,"class","p-4 md:p-6 lg:p-10 pt-24 flex flex-col items-center gap-10 max-sm:pl-6 max-w-screen-xl w-full mx-auto grow")},m(o,c){w(o,e,c),k(e,a),n[t].m(a,null),r=!0},p(o,[c]){let l=t;t=h(o),t===l?n[t].p(o,c):(G(),L(n[l],1,1,()=>{n[l]=null}),F(),s=n[t],s?s.p(o,c):(s=n[t]=u[t](o),s.c()),P(s,1),s.m(a,null))},i(o){r||(P(s),r=!0)},o(o){L(s),r=!1},d(o){o&&_(e),n[t].d()}}}function re(i,e,a){let{data:t}=e;const{settings:s}=t;async function r(){const n=await fetch("/api/updateNewsletter",{method:"POST",body:JSON.stringify({settings:s})});a(2,t=await n.json()),te("success",t.message)}function u(n){i.$$.not_equal(s.sendEmails,n)&&(s.sendEmails=n,a(0,s))}return i.$$set=n=>{"data"in n&&a(2,t=n.data)},[s,r,t,u]}class he extends O{constructor(e){super(),V(this,e,re,ce,D,{data:2})}}export{he as component};
