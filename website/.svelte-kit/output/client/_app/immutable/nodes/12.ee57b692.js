import{s as ot,p as ye,a as A,f as v,l as V,r as rt,d as c,c as I,g as w,h as y,m as F,j as a,i as M,w as h,J as ve,B as Y,Q as Te,L as Ze,C as Se,o as nt,M as $e,z as ae,N as et,A as ue,k as Ue,n as re,O as pe,S as Ae,u as W,x as me,e as Ve,K as tt}from"../chunks/scheduler.513ec290.js";import{S as at,i as ut,h as Ce,b as Ee,d as Me,m as Re,a as ne,t as He,e as Be,f as lt}from"../chunks/index.639a9d04.js";import{g as it}from"../chunks/globals.7f7f1b26.js";import{e as Ne}from"../chunks/each.dbf224b2.js";import{f as st}from"../chunks/index.8782b032.js";import{e as Ie}from"../chunks/forms.e3776c60.js";import{n as Z}from"../chunks/stores.4a57f107.js";import{c as ft}from"../chunks/copy.65aa4a8b.js";import{M as Le}from"../chunks/Modal.56980f8f.js";const{document:Fe}=it;function ze(r,e,t){const o=r.slice();return o[37]=e[t],o[38]=e,o[39]=t,o}function je(r,e,t){const o=r.slice();return o[40]=e[t],o}function ct(r){let e,t='To be able to ask a question, you need to be <a href="/auth" class="link">logged-in</a>';return{c(){e=v("h3"),e.innerHTML=t},l(o){e=w(o,"H3",{"data-svelte-h":!0}),W(e)!=="svelte-hktqv9"&&(e.innerHTML=t)},m(o,s){M(o,e,s)},p:me,d(o){o&&c(e)}}}function ht(r){let e,t="New question",o,s,u,n,i=r[0].length===0&&Ge();return{c(){e=v("button"),e.textContent=t,o=A(),i&&i.c(),s=Ve(),this.h()},l(f){e=w(f,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1vi8tqu"&&(e.textContent=t),o=I(f),i&&i.l(f),s=Ve(),this.h()},h(){a(e,"class","button-primary")},m(f,m){M(f,e,m),M(f,o,m),i&&i.m(f,m),M(f,s,m),u||(n=Y(e,"click",r[17]),u=!0)},p(f,m){f[0].length===0?i||(i=Ge(),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},d(f){f&&(c(e),c(o),c(s)),i&&i.d(f),u=!1,n()}}}function Ge(r){let e,t="No questions for now";return{c(){e=v("h2"),e.textContent=t},l(o){e=w(o,"H2",{"data-svelte-h":!0}),W(e)!=="svelte-73zjnf"&&(e.textContent=t)},m(o,s){M(o,e,s)},d(o){o&&c(e)}}}function We(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 group-hover/button:text-red-600 transition-all"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',o,s;function u(){return r[18](r[37])}return{c(){e=v("button"),e.innerHTML=t,this.h()},l(n){e=w(n,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-fnded1"&&(e.innerHTML=t),this.h()},h(){a(e,"class","absolute top-1 right-1 transition-all opacity-0 group-hover/question:opacity-100 group/button")},m(n,i){M(n,e,i),o||(s=Y(e,"click",u),o=!0)},p(n,i){r=n},d(n){n&&c(e),o=!1,s()}}}function pt(r){let e,t='To reply, please <a href="/auth" class="link">log-in</a>';return{c(){e=v("p"),e.innerHTML=t},l(o){e=w(o,"P",{"data-svelte-h":!0}),W(e)!=="svelte-1k8tzno"&&(e.innerHTML=t)},m(o,s){M(o,e,s)},p:me,d(o){o&&c(e)}}}function dt(r){let e,t="Replie",o,s;function u(){return r[19](r[37])}return{c(){e=v("button"),e.textContent=t,this.h()},l(n){e=w(n,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-afnqyf"&&(e.textContent=t),this.h()},h(){a(e,"class","button-secondary")},m(n,i){M(n,e,i),o||(s=Y(e,"click",u),o=!0)},p(n,i){r=n},d(n){n&&c(e),o=!1,s()}}}function Xe(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 group-hover/button:text-red-600 transition-all"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',o,s;function u(){return r[21](r[37],r[40])}return{c(){e=v("button"),e.innerHTML=t,this.h()},l(n){e=w(n,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-158m06d"&&(e.innerHTML=t),this.h()},h(){a(e,"class","absolute top-1 right-1 transition-all opacity-0 group-hover/replie:opacity-100 group/button")},m(n,i){M(n,e,i),o||(s=Y(e,"click",u),o=!0)},p(n,i){r=n},d(n){n&&c(e),o=!1,s()}}}function Ye(r){var d;let e,t,o,s=r[40].user.username+"",u,n,i,f=new Date(r[40].at).toLocaleDateString()+"",m,E,k,T,B=r[40].message.replaceAll(`
`,"<br />")+"",b,g=r[40].user.username===((d=r[11])==null?void 0:d.username)&&Xe(r);return{c(){e=v("div"),g&&g.c(),t=A(),o=v("h5"),u=V(s),n=V(" - "),i=v("small"),m=V(f),E=A(),k=v("p"),T=new $e(!1),b=A(),this.h()},l(p){e=w(p,"DIV",{class:!0});var C=y(e);g&&g.l(C),t=I(C),o=w(C,"H5",{});var O=y(o);u=F(O,s),n=F(O," - "),i=w(O,"SMALL",{});var q=y(i);m=F(q,f),q.forEach(c),O.forEach(c),E=I(C),k=w(C,"P",{});var X=y(k);T=et(X,!1),X.forEach(c),b=I(C),C.forEach(c),this.h()},h(){T.a=null,a(e,"class","flex flex-col gap-2 border-b border-neutral-200 dark:border-neutral-700 group/replie relative")},m(p,C){M(p,e,C),g&&g.m(e,null),h(e,t),h(e,o),h(o,u),h(o,n),h(o,i),h(i,m),h(e,E),h(e,k),T.m(B,k),h(e,b)},p(p,C){var O;p[40].user.username===((O=p[11])==null?void 0:O.username)?g?g.p(p,C):(g=Xe(p),g.c(),g.m(e,t)):g&&(g.d(1),g=null),C[0]&1&&s!==(s=p[40].user.username+"")&&re(u,s),C[0]&1&&f!==(f=new Date(p[40].at).toLocaleDateString()+"")&&re(m,f),C[0]&1&&B!==(B=p[40].message.replaceAll(`
`,"<br />")+"")&&T.p(B)},d(p){p&&c(e),g&&g.d()}}}function Je(r){var x;let e,t,o,s,u,n=r[37].title+"",i,f,m,E=r[37].description.replaceAll(`
`,"<br />")+"",k,T,B=r[37].postedBy.username+"",b,g,d,p=new Date(r[37].postedAt).toLocaleDateString()+"",C,O,q,X,j,z,te,$=r[37].replies.length+"",ie,J,Q,L,le,se,G,ee,fe,oe,ce,P=r[37].postedBy.username===((x=r[11])==null?void 0:x.username)&&We(r);function he(H,D){return H[11]?dt:pt}let l=he(r)(r);function _(){return r[20](r[37],r[38],r[39])}let U=Ne(r[37].replies),R=[];for(let H=0;H<U.length;H+=1)R[H]=Ye(je(r,U,H));function K(...H){return r[22](r[37],...H)}return{c(){e=v("div"),t=v("div"),P&&P.c(),o=A(),s=v("div"),u=v("h3"),i=V(n),f=A(),m=new $e(!1),k=A(),T=v("h6"),b=V(B),g=V(" - "),d=v("small"),C=V(p),O=A(),q=v("div"),l.c(),X=A(),j=v("div"),z=v("button"),te=V("Show replies ("),ie=V($),J=V(`)\r
                        `),Q=ae("svg"),L=ae("path"),se=A(),G=v("div");for(let H=0;H<R.length;H+=1)R[H].c();fe=A(),this.h()},l(H){e=w(H,"DIV",{class:!0});var D=y(e);t=w(D,"DIV",{class:!0});var N=y(t);P&&P.l(N),o=I(N),s=w(N,"DIV",{class:!0});var S=y(s);u=w(S,"H3",{});var ge=y(u);i=F(ge,n),ge.forEach(c),f=I(S),m=et(S,!1),k=I(S),T=w(S,"H6",{});var we=y(T);b=F(we,B),g=F(we," - "),d=w(we,"SMALL",{});var Oe=y(d);C=F(Oe,p),Oe.forEach(c),we.forEach(c),O=I(S),q=w(S,"DIV",{class:!0});var qe=y(q);l.l(qe),qe.forEach(c),S.forEach(c),N.forEach(c),X=I(D),j=w(D,"DIV",{class:!0});var ke=y(j);z=w(ke,"BUTTON",{class:!0,type:!0});var be=y(z);te=F(be,"Show replies ("),ie=F(be,$),J=F(be,`)\r
                        `),Q=ue(be,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Qe=y(Q);L=ue(Qe,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),y(L).forEach(c),Qe.forEach(c),be.forEach(c),se=I(ke),G=w(ke,"DIV",{class:!0,style:!0,"data-replie-container":!0});var Pe=y(G);for(let De=0;De<R.length;De+=1)R[De].l(Pe);Pe.forEach(c),ke.forEach(c),fe=I(D),D.forEach(c),this.h()},h(){m.a=k,a(q,"class","w-full"),a(s,"class","flex flex-col gap-2"),a(t,"class","group/question flex flex-col gap-2"),a(L,"stroke-linecap","round"),a(L,"stroke-linejoin","round"),a(L,"d","M19.5 8.25l-7.5 7.5-7.5-7.5"),a(Q,"xmlns","http://www.w3.org/2000/svg"),a(Q,"fill","none"),a(Q,"viewBox","0 0 24 24"),a(Q,"stroke-width","1.5"),a(Q,"stroke","currentColor"),a(Q,"class",le="w-6 h-6 transition-all "+(!r[37].hiddenReplies&&"rotate-180")),a(z,"class","w-full flex flex-row gap-4 no-scale underline"),a(z,"type","button"),a(G,"class","flex flex-col gap-4 pl-2 w-full overflow-hidden transition-all"),Ue(G,"max-height",(r[4].length>0?r[37].hiddenReplies?"0":r[4].find(K).height:0)+"px"),a(G,"data-replie-container",ee=r[37].id),a(j,"class","flex flex-col gap-2"),a(e,"class","w-full flex flex-col gap-2 px-2 border-x border-neutral-200 dark:border-neutral-700 relative")},m(H,D){M(H,e,D),h(e,t),P&&P.m(t,null),h(t,o),h(t,s),h(s,u),h(u,i),h(s,f),m.m(E,s),h(s,k),h(s,T),h(T,b),h(T,g),h(T,d),h(d,C),h(s,O),h(s,q),l.m(q,null),h(e,X),h(e,j),h(j,z),h(z,te),h(z,ie),h(z,J),h(z,Q),h(Q,L),h(j,se),h(j,G);for(let N=0;N<R.length;N+=1)R[N]&&R[N].m(G,null);h(e,fe),oe||(ce=Y(z,"click",_),oe=!0)},p(H,D){var N;if(r=H,r[37].postedBy.username===((N=r[11])==null?void 0:N.username)?P?P.p(r,D):(P=We(r),P.c(),P.m(t,o)):P&&(P.d(1),P=null),D[0]&1&&n!==(n=r[37].title+"")&&re(i,n),D[0]&1&&E!==(E=r[37].description.replaceAll(`
`,"<br />")+"")&&m.p(E),D[0]&1&&B!==(B=r[37].postedBy.username+"")&&re(b,B),D[0]&1&&p!==(p=new Date(r[37].postedAt).toLocaleDateString()+"")&&re(C,p),l.p(r,D),D[0]&1&&$!==($=r[37].replies.length+"")&&re(ie,$),D[0]&1&&le!==(le="w-6 h-6 transition-all "+(!r[37].hiddenReplies&&"rotate-180"))&&a(Q,"class",le),D[0]&2573){U=Ne(r[37].replies);let S;for(S=0;S<U.length;S+=1){const ge=je(r,U,S);R[S]?R[S].p(ge,D):(R[S]=Ye(ge),R[S].c(),R[S].m(G,null))}for(;S<R.length;S+=1)R[S].d(1);R.length=U.length}D[0]&17&&Ue(G,"max-height",(r[4].length>0?r[37].hiddenReplies?"0":r[4].find(K).height:0)+"px"),D[0]&1&&ee!==(ee=r[37].id)&&a(G,"data-replie-container",ee)},d(H){H&&c(e),P&&P.d(),l.d(),Ze(R,H),oe=!1,ce()}}}function mt(r){let e,t='<p><span class="text-red-600 font-semibold">WARNING</span> : This operation is irreversible. Are you sure you want to delete this replie ?</p>',o,s,u;return{c(){e=v("form"),e.innerHTML=t,this.h()},l(n){e=w(n,"FORM",{method:!0,slot:!0,id:!0,class:!0,action:!0,"data-svelte-h":!0}),W(e)!=="svelte-1ccx25i"&&(e.innerHTML=t),this.h()},h(){a(e,"method","POST"),a(e,"slot","body"),a(e,"id","deleteReplieForm"),a(e,"class","flex flex-col gap-4"),a(e,"action","?/deleteReplie")},m(n,i){M(n,e,i),s||(u=ve(o=Ie.call(null,e,r[24])),s=!0)},p(n,i){o&&Ae(o.update)&&i[0]&12&&o.update.call(null,n[24])},d(n){n&&c(e),s=!1,u()}}}function _t(r){let e,t="No, cancel",o,s,u="Yes, delete",n,i;return{c(){e=v("button"),e.textContent=t,o=A(),s=v("button"),s.textContent=u,this.h()},l(f){e=w(f,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),W(e)!=="svelte-14ky8oi"&&(e.textContent=t),o=I(f),s=w(f,"BUTTON",{class:!0,type:!0,form:!0,"data-svelte-h":!0}),W(s)!=="svelte-l3fsyw"&&(s.textContent=u),this.h()},h(){a(e,"class","button-secondary"),a(e,"type","button"),a(s,"class","button-primary"),a(s,"type","submit"),a(s,"form","deleteReplieForm")},m(f,m){M(f,e,m),M(f,o,m),M(f,s,m),n||(i=Y(e,"click",r[23]),n=!0)},p:me,d(f){f&&(c(e),c(o),c(s)),n=!1,i()}}}function gt(r){let e,t='<p><span class="text-red-600 font-semibold">WARNING</span> : This operation is irreversible. Are you sure you want to delete this question ?</p>',o,s,u;return{c(){e=v("form"),e.innerHTML=t,this.h()},l(n){e=w(n,"FORM",{method:!0,slot:!0,id:!0,action:!0,"data-svelte-h":!0}),W(e)!=="svelte-1dc9aoe"&&(e.innerHTML=t),this.h()},h(){a(e,"method","POST"),a(e,"slot","body"),a(e,"id","deleteQuestionForm"),a(e,"action","?/deleteQuestion")},m(n,i){M(n,e,i),s||(u=ve(o=Ie.call(null,e,r[27])),s=!0)},p(n,i){o&&Ae(o.update)&&i[0]&8&&o.update.call(null,n[27])},d(n){n&&c(e),s=!1,u()}}}function bt(r){let e,t="No, cancel",o,s,u="Yes, delete",n,i;return{c(){e=v("button"),e.textContent=t,o=A(),s=v("button"),s.textContent=u,this.h()},l(f){e=w(f,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),W(e)!=="svelte-1ks6b4t"&&(e.textContent=t),o=I(f),s=w(f,"BUTTON",{class:!0,type:!0,form:!0,"data-svelte-h":!0}),W(s)!=="svelte-jl5qyx"&&(s.textContent=u),this.h()},h(){a(e,"class","button-secondary"),a(e,"type","button"),a(s,"class","button-primary"),a(s,"type","submit"),a(s,"form","deleteQuestionForm")},m(f,m){M(f,e,m),M(f,o,m),M(f,s,m),n||(i=Y(e,"click",r[26]),n=!0)},p:me,d(f){f&&(c(e),c(o),c(s)),n=!1,i()}}}function vt(r){var g;let e,t,o,s,u,n=((g=r[1])==null?void 0:g.length)+"",i,f,m,E,k,T,B,b;return{c(){e=v("form"),t=v("input"),o=A(),s=v("div"),u=v("span"),i=V(n),f=V("/"),m=V(de),E=A(),k=v("textarea"),this.h()},l(d){e=w(d,"FORM",{slot:!0,method:!0,class:!0,action:!0,id:!0});var p=y(e);t=w(p,"INPUT",{type:!0,name:!0,placeholder:!0}),o=I(p),s=w(p,"DIV",{class:!0});var C=y(s);u=w(C,"SPAN",{class:!0});var O=y(u);i=F(O,n),f=F(O,"/"),m=F(O,de),O.forEach(c),E=I(C),k=w(C,"TEXTAREA",{name:!0,placeholder:!0,rows:!0}),y(k).forEach(c),C.forEach(c),p.forEach(c),this.h()},h(){a(t,"type","text"),a(t,"name","title"),a(t,"placeholder","Question title"),a(u,"class","absolute top-1 right-1 text-xs font-normal"),a(k,"name","description"),a(k,"placeholder","Question content"),a(k,"rows","6"),a(s,"class","relative"),a(e,"slot","body"),a(e,"method","POST"),a(e,"class","space-y-2"),a(e,"action","?/newQuestion"),a(e,"id","newQuestionForm")},m(d,p){M(d,e,p),h(e,t),pe(t,r[10]),h(e,o),h(e,s),h(s,u),h(u,i),h(u,f),h(u,m),h(s,E),h(s,k),pe(k,r[1]),B||(b=[Y(t,"input",r[29]),Y(k,"input",r[30]),ve(T=Ie.call(null,e,r[31]))],B=!0)},p(d,p){var C;p[0]&1024&&t.value!==d[10]&&pe(t,d[10]),p[0]&2&&n!==(n=((C=d[1])==null?void 0:C.length)+"")&&re(i,n),p[0]&2&&pe(k,d[1]),T&&Ae(T.update)&&p[0]&128&&T.update.call(null,d[31])},d(d){d&&c(e),B=!1,Se(b)}}}function Ke(r){let e,t,o,s;return{c(){e=ae("svg"),t=ae("circle"),o=ae("path"),this.h()},l(u){e=ue(u,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0});var n=y(e);t=ue(n,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),y(t).forEach(c),o=ue(n,"path",{class:!0,fill:!0,d:!0}),y(o).forEach(c),n.forEach(c),this.h()},h(){a(t,"class","opacity-25"),a(t,"cx","12"),a(t,"cy","12"),a(t,"r","10"),a(t,"stroke","currentColor"),a(t,"stroke-width","4"),a(o,"class","opacity-75"),a(o,"fill","currentColor"),a(o,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),a(e,"class","animate-spin -ml-1 mr-3 h-5 w-5 text-white"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24")},m(u,n){M(u,e,n),h(e,t),h(e,o)},i(u){u&&(s||tt(()=>{s=lt(e,st,{y:100,duration:400}),s.start()}))},o:me,d(u){u&&c(e)}}}function wt(r){let e,t,o,s="Post",u,n=r[7]&&Ke();return{c(){e=v("button"),n&&n.c(),t=A(),o=v("span"),o.textContent=s,this.h()},l(i){e=w(i,"BUTTON",{type:!0,class:!0,form:!0});var f=y(e);n&&n.l(f),t=I(f),o=w(f,"SPAN",{class:!0,"data-svelte-h":!0}),W(o)!=="svelte-1pzyyxo"&&(o.textContent=s),f.forEach(c),this.h()},h(){var i,f;a(o,"class","transition-all"),a(e,"type","submit"),a(e,"class","button-primary transition-all overflow-hidden w-full"),e.disabled=u=((i=r[1])==null?void 0:i.length)===0||((f=r[10])==null?void 0:f.length)===0,a(e,"form","newQuestionForm")},m(i,f){M(i,e,f),n&&n.m(e,null),h(e,t),h(e,o)},p(i,f){var m,E;i[7]?n?f[0]&128&&ne(n,1):(n=Ke(),n.c(),ne(n,1),n.m(e,t)):n&&(n.d(1),n=null),f[0]&1026&&u!==(u=((m=i[1])==null?void 0:m.length)===0||((E=i[10])==null?void 0:E.length)===0)&&(e.disabled=u)},d(i){i&&c(e),n&&n.d()}}}function kt(r){var B;let e,t,o,s=((B=r[1])==null?void 0:B.length)+"",u,n,i,f,m,E,k,T;return{c(){e=v("form"),t=v("div"),o=v("span"),u=V(s),n=V("/"),i=V(de),f=A(),m=v("textarea"),this.h()},l(b){e=w(b,"FORM",{slot:!0,id:!0,method:!0,class:!0,action:!0});var g=y(e);t=w(g,"DIV",{class:!0});var d=y(t);o=w(d,"SPAN",{class:!0});var p=y(o);u=F(p,s),n=F(p,"/"),i=F(p,de),p.forEach(c),f=I(d),m=w(d,"TEXTAREA",{placeholder:!0,name:!0,rows:!0}),y(m).forEach(c),d.forEach(c),g.forEach(c),this.h()},h(){a(o,"class","absolute top-1 right-1 text-xs font-normal"),a(m,"placeholder","Replie content"),a(m,"name","message"),a(m,"rows","6"),a(t,"class","relative"),a(e,"slot","body"),a(e,"id","newReplieForm"),a(e,"method","POST"),a(e,"class","w-full"),a(e,"action","?/newReplie")},m(b,g){M(b,e,g),h(e,t),h(t,o),h(o,u),h(o,n),h(o,i),h(t,f),h(t,m),pe(m,r[1]),k||(T=[Y(m,"input",r[33]),ve(E=Ie.call(null,e,r[34]))],k=!0)},p(b,g){var d;g[0]&2&&s!==(s=((d=b[1])==null?void 0:d.length)+"")&&re(u,s),g[0]&2&&pe(m,b[1]),E&&Ae(E.update)&&g[0]&136&&E.update.call(null,b[34])},d(b){b&&c(e),k=!1,Se(T)}}}function xe(r){let e,t,o,s;return{c(){e=ae("svg"),t=ae("circle"),o=ae("path"),this.h()},l(u){e=ue(u,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0});var n=y(e);t=ue(n,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),y(t).forEach(c),o=ue(n,"path",{class:!0,fill:!0,d:!0}),y(o).forEach(c),n.forEach(c),this.h()},h(){a(t,"class","opacity-25"),a(t,"cx","12"),a(t,"cy","12"),a(t,"r","10"),a(t,"stroke","currentColor"),a(t,"stroke-width","4"),a(o,"class","opacity-75"),a(o,"fill","currentColor"),a(o,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),a(e,"class","animate-spin -ml-1 mr-3 h-5 w-5 text-white"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24")},m(u,n){M(u,e,n),h(e,t),h(e,o)},i(u){u&&(s||tt(()=>{s=lt(e,st,{y:100,duration:400}),s.start()}))},o:me,d(u){u&&c(e)}}}function yt(r){let e,t,o,s="Reply",u,n=r[7]&&xe();return{c(){e=v("button"),n&&n.c(),t=A(),o=v("span"),o.textContent=s,this.h()},l(i){e=w(i,"BUTTON",{type:!0,class:!0,form:!0});var f=y(e);n&&n.l(f),t=I(f),o=w(f,"SPAN",{class:!0,"data-svelte-h":!0}),W(o)!=="svelte-139oi22"&&(o.textContent=s),f.forEach(c),this.h()},h(){var i;a(o,"class","transition-all"),a(e,"type","submit"),a(e,"class","button-primary w-full transition-all overflow-hidden"),e.disabled=u=((i=r[1])==null?void 0:i.length)===0,a(e,"form","newReplieForm")},m(i,f){M(i,e,f),n&&n.m(e,null),h(e,t),h(e,o)},p(i,f){var m;i[7]?n?f[0]&128&&ne(n,1):(n=xe(),n.c(),ne(n,1),n.m(e,t)):n&&(n.d(1),n=null),f[0]&2&&u!==(u=((m=i[1])==null?void 0:m.length)===0)&&(e.disabled=u)},d(i){i&&c(e),n&&n.d()}}}function Tt(r){var he,_e;let e,t,o,s,u,n,i,f,m,E,k,T,B,b,g,d,p,C,O,q,X,j,z,te;function $(l,_){return l[11]?ht:ct}let J=$(r)(r),Q=Ne(r[0]),L=[];for(let l=0;l<Q.length;l+=1)L[l]=Je(ze(r,Q,l));function le(l){r[25](l)}let se={title:"Delete replie",$$slots:{footer:[_t],body:[mt]},$$scope:{ctx:r}};r[9]!==void 0&&(se.status=r[9]),k=new Le({props:se}),ye.push(()=>Ce(k,"status",le));function G(l){r[28](l)}let ee={title:"Delete question",closeButton:!1,$$slots:{footer:[bt],body:[gt]},$$scope:{ctx:r}};r[6]!==void 0&&(ee.status=r[6]),b=new Le({props:ee}),ye.push(()=>Ce(b,"status",G));function fe(l){r[32](l)}let oe={title:"New question",$$slots:{footer:[wt],body:[vt]},$$scope:{ctx:r}};r[8]!==void 0&&(oe.status=r[8]),p=new Le({props:oe}),ye.push(()=>Ce(p,"status",fe));function ce(l){r[36](l)}let P={title:`Reply to ${r[3]?(_e=(he=r[0].filter(r[35])[0])==null?void 0:he.postedBy)==null?void 0:_e.username:""}`,$$slots:{footer:[yt],body:[kt]},$$scope:{ctx:r}};return r[5]!==void 0&&(P.status=r[5]),q=new Le({props:P}),ye.push(()=>Ce(q,"status",ce)),{c(){e=A(),t=v("div"),o=v("div"),s=v("h6"),u=V("Support e-mail : "),n=v("button"),i=V(r[12]),f=A(),J.c(),m=A();for(let l=0;l<L.length;l+=1)L[l].c();E=A(),Ee(k.$$.fragment),B=A(),Ee(b.$$.fragment),d=A(),Ee(p.$$.fragment),O=A(),Ee(q.$$.fragment),this.h()},l(l){rt("svelte-by7ird",Fe.head).forEach(c),e=I(l),t=w(l,"DIV",{class:!0});var U=y(t);o=w(U,"DIV",{class:!0});var R=y(o);s=w(R,"H6",{class:!0});var K=y(s);u=F(K,"Support e-mail : "),n=w(K,"BUTTON",{class:!0});var x=y(n);i=F(x,r[12]),x.forEach(c),K.forEach(c),f=I(R),J.l(R),m=I(R);for(let H=0;H<L.length;H+=1)L[H].l(R);R.forEach(c),U.forEach(c),E=I(l),Me(k.$$.fragment,l),B=I(l),Me(b.$$.fragment,l),d=I(l),Me(p.$$.fragment,l),O=I(l),Me(q.$$.fragment,l),this.h()},h(){Fe.title="PCC - Get Help",a(n,"class","font-semibold"),a(s,"class","font-normal"),a(o,"class","w-full h-full flex flex-col gap-4"),a(t,"class","max-w-screen-lg mx-auto mt-4 grow w-full py-8 px-4 lg:px-6")},m(l,_){M(l,e,_),M(l,t,_),h(t,o),h(o,s),h(s,u),h(s,n),h(n,i),h(o,f),J.m(o,null),h(o,m);for(let U=0;U<L.length;U+=1)L[U]&&L[U].m(o,null);M(l,E,_),Re(k,l,_),M(l,B,_),Re(b,l,_),M(l,d,_),Re(p,l,_),M(l,O,_),Re(q,l,_),j=!0,z||(te=[ve(ft.call(null,n,r[12])),Y(n,"svelte-copy",r[15]),Y(n,"svelte-copy:error",r[16])],z=!0)},p(l,_){var H,D;if(J.p(l,_),_[0]&2685){Q=Ne(l[0]);let N;for(N=0;N<Q.length;N+=1){const S=ze(l,Q,N);L[N]?L[N].p(S,_):(L[N]=Je(S),L[N].c(),L[N].m(o,null))}for(;N<L.length;N+=1)L[N].d(1);L.length=Q.length}const U={};_[0]&524|_[1]&4096&&(U.$$scope={dirty:_,ctx:l}),!T&&_[0]&512&&(T=!0,U.status=l[9],Te(()=>T=!1)),k.$set(U);const R={};_[0]&72|_[1]&4096&&(R.$$scope={dirty:_,ctx:l}),!g&&_[0]&64&&(g=!0,R.status=l[6],Te(()=>g=!1)),b.$set(R);const K={};_[0]&1154|_[1]&4096&&(K.$$scope={dirty:_,ctx:l}),!C&&_[0]&256&&(C=!0,K.status=l[8],Te(()=>C=!1)),p.$set(K);const x={};_[0]&9&&(x.title=`Reply to ${l[3]?(D=(H=l[0].filter(l[35])[0])==null?void 0:H.postedBy)==null?void 0:D.username:""}`),_[0]&138|_[1]&4096&&(x.$$scope={dirty:_,ctx:l}),!X&&_[0]&32&&(X=!0,x.status=l[5],Te(()=>X=!1)),q.$set(x)},i(l){j||(ne(k.$$.fragment,l),ne(b.$$.fragment,l),ne(p.$$.fragment,l),ne(q.$$.fragment,l),j=!0)},o(l){He(k.$$.fragment,l),He(b.$$.fragment,l),He(p.$$.fragment,l),He(q.$$.fragment,l),j=!1},d(l){l&&(c(e),c(t),c(E),c(B),c(d),c(O)),J.d(),Ze(L,l),Be(k,l),Be(b,l),Be(p,l),Be(q,l),z=!1,Se(te)}}}const de=1e3;function Ct(r,e,t){let{data:o}=e,{form:s}=e,{questions:u,user:n,supportEmail:i}=o;u=u.map(l=>({...l,hiddenReplies:!0}));let f=!1,m=!1,E=!1,k=!1,T=!1,B="",b="",g,d,p=[];nt(()=>{const l=document.querySelectorAll("[data-replie-container]");t(4,p=Array.from(l).map(_=>({height:_.scrollHeight,el:_,questionId:_.dataset.replieContainer})))});const C=()=>{Z("success","Copied to clipboard successfully!")},O=()=>{Z("error","An error occurred while copying to the clipboard")},q=()=>{t(8,k=!k)},X=l=>{t(3,d=l.id),t(6,m=!m)},j=l=>{t(3,d=l.id),t(5,f=!f)},z=(l,_,U)=>{t(0,_[U].hiddenReplies=!l.hiddenReplies,u)},te=(l,_)=>{t(3,d=l.id),t(2,g=_.id),t(9,T=!T)},$=(l,_)=>_.questionId===l.id,ie=()=>{t(9,T=!1)},J=l=>(l.formData.set("questionId",d),l.formData.set("replieId",g),({update:_})=>{_({reset:!1})});function Q(l){T=l,t(9,T),t(13,s),t(0,u),t(3,d),t(4,p),t(2,g)}const L=()=>{t(6,m=!1)},le=l=>(l.formData.set("questionId",d),({update:_})=>{_({reset:!1})});function se(l){m=l,t(6,m),t(13,s),t(0,u),t(3,d),t(4,p),t(2,g)}function G(){B=this.value,t(10,B),t(13,s),t(0,u),t(3,d),t(4,p),t(2,g)}function ee(){b=this.value,t(1,b),t(13,s),t(0,u),t(3,d),t(4,p),t(2,g)}const fe=()=>(t(7,E=!0),({update:l})=>{t(7,E=!1),l({reset:!1})});function oe(l){k=l,t(8,k),t(13,s),t(0,u),t(3,d),t(4,p),t(2,g)}function ce(){b=this.value,t(1,b),t(13,s),t(0,u),t(3,d),t(4,p),t(2,g)}const P=l=>(t(7,E=!0),l.formData.set("postId",d),({update:_})=>{t(7,E=!1),_({reset:!1})}),he=l=>l.id===d;function _e(l){f=l,t(5,f),t(13,s),t(0,u),t(3,d),t(4,p),t(2,g)}return r.$$set=l=>{"data"in l&&t(14,o=l.data),"form"in l&&t(13,s=l.form)},r.$$.update=()=>{r.$$.dirty[0]&2&&(b==null?void 0:b.length)>de&&t(1,b=b.slice(0,de)),r.$$.dirty[0]&8221&&s&&(s.name==="newReplie"?s.status==="success"?(Z("success",s.message),t(0,u=u.map(l=>l.id===d?{...l,replies:[...l.replies,s.data]}:l)),t(5,f=!1),t(1,b=""),p.find(l=>l.questionId===d).height=Array.from(p.find(l=>l.questionId===d).el.children).map(l=>l.clientHeight)+p.find(l=>l.questionId===d).el.children.length-1*8,t(4,p=[...p]),t(3,d=null)):Z("error",s.message):s.name==="newQuestion"?s.status==="success"?(Z("success",s.message),t(0,u=[...u,s.data]),t(8,k=!1),t(1,b=""),t(10,B="")):Z("error",s.message):s.name==="deleteQuestion"?s.status==="success"?(Z("success",s.message),t(0,u=u.filter(l=>l.id!==d)),t(3,d=null),t(6,m=!1)):Z("error",s.message):s.name==="deleteReplie"&&(s.status==="success"?(Z("success",s.message),t(0,u=u.map(l=>l.id===d?{...l,replies:l.replies.filter(_=>_.id!==g)}:l)),p.find(l=>l.questionId===d).height=p.find(l=>l.questionId===d).el.scrollHeight,t(9,T=!1),t(3,d=null)):Z("error",s.message)),t(13,s=null))},[u,b,g,d,p,f,m,E,k,T,B,n,i,s,o,C,O,q,X,j,z,te,$,ie,J,Q,L,le,se,G,ee,fe,oe,ce,P,he,_e]}class Dt extends at{constructor(e){super(),ut(this,e,Ct,Tt,ot,{data:14,form:13},null,[-1,-1])}}export{Dt as component};
