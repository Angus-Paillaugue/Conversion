import{s as Bt,f as u,a as b,l as w,z as ne,r as It,g as c,u as K,d as a,c as k,h as f,m as E,A as oe,v as Ot,j as t,O as xe,K as Dt,w as l,i as U,P as yt,B as Ie,n as ot,x as it,C as Nt,Q as Ut,e as xt,k as Pt,L as jt}from"../chunks/scheduler.c54fe263.js";import{g as Mt}from"../chunks/globals.7f7f1b26.js";import{e as Tt}from"../chunks/each.d996bcbb.js";import{S as Vt,i as Ht}from"../chunks/index.382b5808.js";import{n as We}from"../chunks/stores.fcd534d1.js";const{document:pt}=Mt;function At(s,e,r){const o=s.slice();return o[24]=e[r],o}function qt(s){let e,r,o,d,i="Upgrade";return{c(){e=ne("svg"),r=ne("path"),o=b(),d=u("a"),d.textContent=i,this.h()},l(h){e=oe(h,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=f(e);r=oe(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),f(r).forEach(a),n.forEach(a),o=k(h),d=c(h,"A",{href:!0,class:!0,"data-svelte-h":!0}),K(d)!=="svelte-1dcn0u5"&&(d.textContent=i),this.h()},h(){t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"d","M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"fill","none"),t(e,"viewBox","0 0 24 24"),t(e,"stroke-width","1.5"),t(e,"stroke","currentColor"),t(e,"class","w-6 h-4 inline-block"),t(d,"href","/payment"),t(d,"class","link w-fit")},m(h,n){U(h,e,n),l(e,r),U(h,o,n),U(h,d,n)},d(h){h&&(a(e),a(o),a(d))}}}function Rt(s){let e;return{c(){e=w("Update rates")},l(r){e=E(r,"Update rates")},m(r,o){U(r,e,o)},d(r){r&&a(e)}}}function zt(s){let e,r,o;return{c(){e=w(`Updating rates\r
                    `),r=ne("svg"),o=ne("path"),this.h()},l(d){e=E(d,`Updating rates\r
                    `),r=oe(d,"svg",{fill:!0,class:!0,viewBox:!0,xmlns:!0});var i=f(r);o=oe(i,"path",{"clip-rule":!0,d:!0,fill:!0,"fill-rule":!0}),f(o).forEach(a),i.forEach(a),this.h()},h(){t(o,"clip-rule","evenodd"),t(o,"d","M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z"),t(o,"fill","currentColor"),t(o,"fill-rule","evenodd"),t(r,"fill","none"),t(r,"class","w-6 h-6 animate-spin"),t(r,"viewBox","0 0 32 32"),t(r,"xmlns","http://www.w3.org/2000/svg")},m(d,i){U(d,e,i),U(d,r,i),l(r,o)},d(d){d&&(a(e),a(r))}}}function Wt(s){let e,r="No users found";return{c(){e=u("h4"),e.textContent=r,this.h()},l(o){e=c(o,"H4",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-5hhct2"&&(e.textContent=r),this.h()},h(){t(e,"class","mt-2")},m(o,d){U(o,e,d)},p:it,d(o){o&&a(e)}}}function Yt(s){let e,r,o,d=Tt(s[5].slice(0,s[4])),i=[];for(let n=0;n<d.length;n+=1)i[n]=Lt(At(s,d,n));let h=s[4]<s[5].length&&St(s);return{c(){e=u("div");for(let n=0;n<i.length;n+=1)i[n].c();r=b(),h&&h.c(),o=xt(),this.h()},l(n){e=c(n,"DIV",{class:!0,style:!0});var C=f(e);for(let v=0;v<i.length;v+=1)i[v].l(C);C.forEach(a),r=k(n),h&&h.l(n),o=xt(),this.h()},h(){t(e,"class","grid mt-2 gap-4"),Pt(e,"grid-template-rows","min-content"),Pt(e,"grid-template-columns","repeat(auto-fill, minmax(300px, 1fr))")},m(n,C){U(n,e,C);for(let v=0;v<i.length;v+=1)i[v]&&i[v].m(e,null);U(n,r,C),h&&h.m(n,C),U(n,o,C)},p(n,C){if(C&5872){d=Tt(n[5].slice(0,n[4]));let v;for(v=0;v<d.length;v+=1){const V=At(n,d,v);i[v]?i[v].p(V,C):(i[v]=Lt(V),i[v].c(),i[v].m(e,null))}for(;v<i.length;v+=1)i[v].d(1);i.length=d.length}n[4]<n[5].length?h?h.p(n,C):(h=St(n),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null)},d(n){n&&(a(e),a(r),a(o)),jt(i,n),h&&h.d(n)}}}function Ft(s){let e;return{c(){e=w("Save")},l(r){e=E(r,"Save")},m(r,o){U(r,e,o)},d(r){r&&a(e)}}}function Jt(s){let e,r;return{c(){e=ne("svg"),r=ne("path"),this.h()},l(o){e=oe(o,"svg",{fill:!0,class:!0,viewBox:!0,xmlns:!0});var d=f(e);r=oe(d,"path",{"clip-rule":!0,d:!0,fill:!0,"fill-rule":!0}),f(r).forEach(a),d.forEach(a),this.h()},h(){t(r,"clip-rule","evenodd"),t(r,"d","M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z"),t(r,"fill","currentColor"),t(r,"fill-rule","evenodd"),t(e,"fill","none"),t(e,"class","w-6 h-6 animate-spin mx-auto"),t(e,"viewBox","0 0 32 32"),t(e,"xmlns","http://www.w3.org/2000/svg")},m(o,d){U(o,e,d),l(e,r)},d(o){o&&a(e)}}}function Lt(s){let e,r,o,d,i,h,n,C,v,V,ie,F,N,B,y,H,be,ue,q,J,ke,we,P,$,Ee,A,p,I,O,T,G,R,L,j,S,ce,g,z,Oe,X,Pe,Ce=new Date(s[24].joined).toLocaleString("fr-FR")+"",Te,de,ee,fe="Delete account",W,te,le,M,Z,Ye;function he(){return s[18](s[24])}function Fe(x,m){return x[6]&&x[9]===x[24].id?Jt:Ft}let Q=Fe(s),re=Q(s);function Je(){return s[19](s[24])}return{c(){e=u("div"),r=u("label"),o=w(`Username :\r
                            `),d=u("input"),h=b(),n=u("label"),C=w(`E-mail :\r
                            `),v=u("input"),ie=b(),F=u("label"),N=w(`Premium :\r
                            `),B=u("div"),y=u("select"),H=u("option"),be=w("Yes"),q=u("option"),J=w("No"),we=b(),P=ne("svg"),$=ne("path"),Ee=b(),A=u("label"),p=w(`Admin :\r
                            `),I=u("div"),O=u("select"),T=u("option"),G=w("Yes"),L=u("option"),j=w("No"),ce=b(),g=ne("svg"),z=ne("path"),Oe=b(),X=u("p"),Pe=w("Joined on : "),Te=w(Ce),de=b(),ee=u("button"),ee.textContent=fe,W=b(),te=u("button"),re.c(),le=b(),this.h()},l(x){e=c(x,"DIV",{class:!0,"data-user-id":!0});var m=f(e);r=c(m,"LABEL",{for:!0});var De=f(r);o=E(De,`Username :\r
                            `),d=c(De,"INPUT",{type:!0,autocomplete:!0,name:!0}),De.forEach(a),h=k(m),n=c(m,"LABEL",{for:!0});var Ae=f(n);C=E(Ae,`E-mail :\r
                            `),v=c(Ae,"INPUT",{type:!0,autocomplete:!0,name:!0}),Ae.forEach(a),ie=k(m),F=c(m,"LABEL",{for:!0});var se=f(F);N=E(se,`Premium :\r
                            `),B=c(se,"DIV",{class:!0});var Y=f(B);y=c(Y,"SELECT",{name:!0,class:!0});var me=f(y);H=c(me,"OPTION",{});var Qe=f(H);be=E(Qe,"Yes"),Qe.forEach(a),q=c(me,"OPTION",{});var Me=f(q);J=E(Me,"No"),Me.forEach(a),me.forEach(a),we=k(Y),P=oe(Y,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var _e=f(P);$=oe(_e,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),f($).forEach(a),_e.forEach(a),Y.forEach(a),se.forEach(a),Ee=k(m),A=c(m,"LABEL",{for:!0});var Ue=f(A);p=E(Ue,`Admin :\r
                            `),I=c(Ue,"DIV",{class:!0});var ge=f(I);O=c(ge,"SELECT",{name:!0,class:!0});var Le=f(O);T=c(Le,"OPTION",{});var Ve=f(T);G=E(Ve,"Yes"),Ve.forEach(a),L=c(Le,"OPTION",{});var He=f(L);j=E(He,"No"),He.forEach(a),Le.forEach(a),ce=k(ge),g=oe(ge,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var pe=f(g);z=oe(pe,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),f(z).forEach(a),pe.forEach(a),ge.forEach(a),Ue.forEach(a),Oe=k(m),X=c(m,"P",{class:!0});var ae=f(X);Pe=E(ae,"Joined on : "),Te=E(ae,Ce),ae.forEach(a),de=k(m),ee=c(m,"BUTTON",{class:!0,"data-svelte-h":!0}),K(ee)!=="svelte-1wm0gt9"&&(ee.textContent=fe),W=k(m),te=c(m,"BUTTON",{class:!0});var Ke=f(te);re.l(Ke),Ke.forEach(a),le=k(m),m.forEach(a),this.h()},h(){t(d,"type","text"),t(d,"autocomplete","off"),t(d,"name","username"),d.value=i=s[24].username,t(r,"for","username"),t(v,"type","text"),t(v,"autocomplete","off"),t(v,"name","email"),v.value=V=s[24].email,t(n,"for","email"),H.__value="true",xe(H,H.__value),H.selected=ue=s[24].isPremium,q.__value="false",xe(q,q.__value),q.selected=ke=!s[24].isPremium,t(y,"name","isPremium"),t(y,"class","appearance-none peer"),t($,"stroke-linecap","round"),t($,"stroke-linejoin","round"),t($,"d","M19.5 8.25l-7.5 7.5-7.5-7.5"),t(P,"xmlns","http://www.w3.org/2000/svg"),t(P,"fill","none"),t(P,"viewBox","0 0 24 24"),t(P,"stroke-width","1.5"),t(P,"stroke","currentColor"),t(P,"class","w-4 h-4 absolute top-1/2 right-2 -translate-y-1/2 transition-all peer-focus:rotate-180 pointer-events-none"),t(B,"class","relative"),t(F,"for","isPremium"),T.__value="true",xe(T,T.__value),T.selected=R=s[24].isAdmin,L.__value="false",xe(L,L.__value),L.selected=S=!s[24].isAdmin,t(O,"name","isAdmin"),t(O,"class","appearance-none peer"),t(z,"stroke-linecap","round"),t(z,"stroke-linejoin","round"),t(z,"d","M19.5 8.25l-7.5 7.5-7.5-7.5"),t(g,"xmlns","http://www.w3.org/2000/svg"),t(g,"fill","none"),t(g,"viewBox","0 0 24 24"),t(g,"stroke-width","1.5"),t(g,"stroke","currentColor"),t(g,"class","w-4 h-4 absolute top-1/2 right-2 -translate-y-1/2 transition-all peer-focus:rotate-180 pointer-events-none"),t(I,"class","relative"),t(A,"for","isAdmin"),t(X,"class","text-sm"),t(ee,"class","button-red button-small"),t(te,"class","button-primary button-small"),t(e,"class","p-2 shadow-sm dark:shadow-none dark:border dark:border-neutral-700 rounded-lg flex flex-col gap-4"),t(e,"data-user-id",M=s[24].id)},m(x,m){U(x,e,m),l(e,r),l(r,o),l(r,d),l(e,h),l(e,n),l(n,C),l(n,v),l(e,ie),l(e,F),l(F,N),l(F,B),l(B,y),l(y,H),l(H,be),l(y,q),l(q,J),l(B,we),l(B,P),l(P,$),l(e,Ee),l(e,A),l(A,p),l(A,I),l(I,O),l(O,T),l(T,G),l(O,L),l(L,j),l(I,ce),l(I,g),l(g,z),l(e,Oe),l(e,X),l(X,Pe),l(X,Te),l(e,de),l(e,ee),l(e,W),l(e,te),re.m(te,null),l(e,le),Z||(Ye=[Ie(ee,"click",he),Ie(te,"click",Je)],Z=!0)},p(x,m){s=x,m&48&&i!==(i=s[24].username)&&d.value!==i&&(d.value=i),m&48&&V!==(V=s[24].email)&&v.value!==V&&(v.value=V),m&48&&ue!==(ue=s[24].isPremium)&&(H.selected=ue),m&48&&ke!==(ke=!s[24].isPremium)&&(q.selected=ke),m&48&&R!==(R=s[24].isAdmin)&&(T.selected=R),m&48&&S!==(S=!s[24].isAdmin)&&(L.selected=S),m&48&&Ce!==(Ce=new Date(s[24].joined).toLocaleString("fr-FR")+"")&&ot(Te,Ce),Q!==(Q=Fe(s))&&(re.d(1),re=Q(s),re&&(re.c(),re.m(te,null))),m&48&&M!==(M=s[24].id)&&t(e,"data-user-id",M)},d(x){x&&a(e),re.d(),Z=!1,Nt(Ye)}}}function St(s){let e,r=`Load more
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"></path></svg>`,o,d;return{c(){e=u("button"),e.innerHTML=r,this.h()},l(i){e=c(i,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-js37qg"&&(e.innerHTML=r),this.h()},h(){t(e,"class","button-secondary mx-auto w-fit hover:gap-4 button-small")},m(i,h){U(i,e,h),o||(d=Ie(e,"click",s[20]),o=!0)},p:it,d(i){i&&a(e),o=!1,d()}}}function Qt(s){var bt;let e,r="",o,d,i,h,n,C,v,V=s[11].username+"",ie,F,N,B,y,H=s[11].isPremium?"Premium":"Basic",be,ue,q,J,ke="Charts",we,P,$="Log-out",Ee,A,p,I="Rates",O,T,G,R=new Date(s[3]).toLocaleString("fr-FR")+"",L,j,S,ce,g,z,Oe,X=s[5].length+"",Pe,Ce,Te,de,ee,fe,W,te,le,M,Z,Ye="Premium : *",he,Fe="Premium : true",Q,re="Premium : false",Je,x,m,De,Ae,se,Y,me,Qe="Delete account",Me,_e,Ue,ge=(s[10]?(bt=s[2])==null?void 0:bt.filter(s[21])[0].username:"")+"",Le,Ve,He,pe,ae,Ke="No, cancel",ut,Se,vt="Yes, delete",Xe,ct,mt,Ne=!s[11].isPremium&&qt();function _t(_,D){return _[8]?zt:Rt}let Ze=_t(s),ye=Ze(s);function gt(_,D){return _[5].length>0?Yt:Wt}let $e=gt(s),ve=$e(s);return{c(){e=u("script"),e.innerHTML=r,d=b(),i=u("section"),h=u("div"),n=u("div"),C=u("h3"),v=w("Welcome "),ie=w(V),F=b(),N=u("p"),B=w(`Current plan : \r
                `),y=u("span"),be=w(H),ue=b(),Ne&&Ne.c(),q=b(),J=u("a"),J.textContent=ke,we=b(),P=u("a"),P.textContent=$,Ee=b(),A=u("div"),p=u("h3"),p.textContent=I,O=b(),T=u("p"),G=w("Last updated "),L=w(R),j=b(),S=u("button"),ye.c(),ce=b(),g=u("div"),z=u("h3"),Oe=w("Users ("),Pe=w(X),Ce=w(")"),Te=b(),de=u("label"),ee=w(`Search :\r
            `),fe=u("div"),W=u("input"),te=b(),le=u("div"),M=u("select"),Z=u("option"),Z.textContent=Ye,he=u("option"),he.textContent=Fe,Q=u("option"),Q.textContent=re,Je=b(),x=ne("svg"),m=ne("path"),De=b(),ve.c(),Ae=b(),se=u("div"),Y=u("div"),me=u("h3"),me.textContent=Qe,Me=b(),_e=u("p"),Ue=w("Are you sure you want to delete "),Le=w(ge),Ve=w("'s account ?"),He=b(),pe=u("div"),ae=u("button"),ae.textContent=Ke,ut=b(),Se=u("button"),Se.textContent=vt,this.h()},l(_){const D=It("svelte-1ex87jb",pt.head);e=c(D,"SCRIPT",{src:!0,"data-svelte-h":!0}),K(e)!=="svelte-avrofd"&&(e.innerHTML=r),D.forEach(a),d=k(_),i=c(_,"SECTION",{class:!0});var je=f(i);h=c(je,"DIV",{class:!0});var et=f(h);n=c(et,"DIV",{class:!0});var Be=f(n);C=c(Be,"H3",{});var dt=f(C);v=E(dt,"Welcome "),ie=E(dt,V),dt.forEach(a),F=k(Be),N=c(Be,"P",{});var Ge=f(N);B=E(Ge,`Current plan : \r
                `),y=c(Ge,"SPAN",{class:!0});var kt=f(y);be=E(kt,H),kt.forEach(a),ue=k(Ge),Ne&&Ne.l(Ge),Ge.forEach(a),q=k(Be),J=c(Be,"A",{href:!0,class:!0,"data-svelte-h":!0}),K(J)!=="svelte-1o9o7s8"&&(J.textContent=ke),we=k(Be),P=c(Be,"A",{href:!0,class:!0,"data-svelte-h":!0}),K(P)!=="svelte-1l9icdm"&&(P.textContent=$),Be.forEach(a),Ee=k(et),A=c(et,"DIV",{class:!0});var qe=f(A);p=c(qe,"H3",{"data-svelte-h":!0}),K(p)!=="svelte-1uyn3fb"&&(p.textContent=I),O=k(qe),T=c(qe,"P",{});var ft=f(T);G=E(ft,"Last updated "),L=E(ft,R),ft.forEach(a),j=k(qe),S=c(qe,"BUTTON",{class:!0});var wt=f(S);ye.l(wt),wt.forEach(a),qe.forEach(a),et.forEach(a),ce=k(je),g=c(je,"DIV",{class:!0});var Re=f(g);z=c(Re,"H3",{});var tt=f(z);Oe=E(tt,"Users ("),Pe=E(tt,X),Ce=E(tt,")"),tt.forEach(a),Te=k(Re),de=c(Re,"LABEL",{for:!0});var ht=f(de);ee=E(ht,`Search :\r
            `),fe=c(ht,"DIV",{class:!0});var lt=f(fe);W=c(lt,"INPUT",{type:!0,autocomplete:!0,name:!0,placeholder:!0}),te=k(lt),le=c(lt,"DIV",{class:!0});var rt=f(le);M=c(rt,"SELECT",{class:!0});var st=f(M);Z=c(st,"OPTION",{"data-svelte-h":!0}),K(Z)!=="svelte-9rq0dv"&&(Z.textContent=Ye),he=c(st,"OPTION",{"data-svelte-h":!0}),K(he)!=="svelte-f4fxkt"&&(he.textContent=Fe),Q=c(st,"OPTION",{"data-svelte-h":!0}),K(Q)!=="svelte-1gt3hol"&&(Q.textContent=re),st.forEach(a),Je=k(rt),x=oe(rt,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Et=f(x);m=oe(Et,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),f(m).forEach(a),Et.forEach(a),rt.forEach(a),lt.forEach(a),ht.forEach(a),De=k(Re),ve.l(Re),Re.forEach(a),je.forEach(a),Ae=k(_),se=c(_,"DIV",{class:!0});var Ct=f(se);Y=c(Ct,"DIV",{class:!0});var ze=f(Y);me=c(ze,"H3",{"data-svelte-h":!0}),K(me)!=="svelte-1ji7sew"&&(me.textContent=Qe),Me=k(ze),_e=c(ze,"P",{});var at=f(_e);Ue=E(at,"Are you sure you want to delete "),Le=E(at,ge),Ve=E(at,"'s account ?"),at.forEach(a),He=k(ze),pe=c(ze,"DIV",{class:!0});var nt=f(pe);ae=c(nt,"BUTTON",{class:!0,"data-svelte-h":!0}),K(ae)!=="svelte-epy9ji"&&(ae.textContent=Ke),ut=k(nt),Se=c(nt,"BUTTON",{class:!0,"data-svelte-h":!0}),K(Se)!=="svelte-14ride6"&&(Se.textContent=vt),nt.forEach(a),ze.forEach(a),Ct.forEach(a),this.h()},h(){pt.title="PCC - Admin dashboard",Ot(e.src,o="https://cdn.jsdelivr.net/npm/apexcharts")||t(e,"src",o),t(y,"class","font-semibold"),t(J,"href","/dashboard/admin/charts"),t(J,"class","link w-fit"),t(P,"href","/log-out"),t(P,"class","button-red"),t(n,"class","rounded-lg w-full border-neutral-200 dark:border-neutral-700 border flex flex-col gap-2 md:p-10 p-6 h-full"),t(S,"class","button-primary mt-auto"),S.disabled=s[8],t(A,"class","rounded-lg w-full border-neutral-200 dark:border-neutral-700 border flex flex-col gap-2 md:p-10 p-6 h-full"),t(h,"class","grid grid-cols-1 lg:grid-cols-2 gap-4 max-w-screen-lg mx-auto"),t(W,"type","text"),t(W,"autocomplete","off"),t(W,"name","search"),t(W,"placeholder","Search users by usernames or emails"),Z.__value="*",xe(Z,Z.__value),he.__value="true",xe(he,he.__value),Q.__value="false",xe(Q,Q.__value),t(M,"class","appearance-none peer w-full sm:w-fit pr-6"),s[1]===void 0&&Dt(()=>s[17].call(M)),t(m,"stroke-linecap","round"),t(m,"stroke-linejoin","round"),t(m,"d","M19.5 8.25l-7.5 7.5-7.5-7.5"),t(x,"xmlns","http://www.w3.org/2000/svg"),t(x,"fill","none"),t(x,"viewBox","0 0 24 24"),t(x,"stroke-width","1.5"),t(x,"stroke","currentColor"),t(x,"class","w-4 h-4 absolute top-1/2 right-2 -translate-y-1/2 transition-all peer-focus:rotate-180 pointer-events-none"),t(le,"class","relative"),t(fe,"class","flex flex-col sm:flex-row gap-4 mt-1"),t(de,"for","search"),t(g,"class","max-w-screen-lg mx-auto flex flex-col gap-2 h-fit p-4 rounded-lg border border-neutral-200 dark:border-neutral-700"),t(i,"class","grow w-full py-8 px-4 lg:py-16 lg:px-6 space-y-6"),t(ae,"class","button-red"),t(Se,"class","button-primary"),t(pe,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),t(Y,"class","bg-white rounded-lg p-4 flex flex-col gap-4"),t(se,"class",Xe="fixed inset-0 bg-neutral-600/50 dark:bg-neutral-900/50 flex justify-center items-center tranition-all "+(s[7]?"z-50 opacity-100":"-z-10 opacity-0"))},m(_,D){l(pt.head,e),U(_,d,D),U(_,i,D),l(i,h),l(h,n),l(n,C),l(C,v),l(C,ie),l(n,F),l(n,N),l(N,B),l(N,y),l(y,be),l(N,ue),Ne&&Ne.m(N,null),l(n,q),l(n,J),l(n,we),l(n,P),l(h,Ee),l(h,A),l(A,p),l(A,O),l(A,T),l(T,G),l(T,L),l(A,j),l(A,S),ye.m(S,null),l(i,ce),l(i,g),l(g,z),l(z,Oe),l(z,Pe),l(z,Ce),l(g,Te),l(g,de),l(de,ee),l(de,fe),l(fe,W),xe(W,s[0]),l(fe,te),l(fe,le),l(le,M),l(M,Z),l(M,he),l(M,Q),yt(M,s[1],!0),l(le,Je),l(le,x),l(x,m),l(g,De),ve.m(g,null),U(_,Ae,D),U(_,se,D),l(se,Y),l(Y,me),l(Y,Me),l(Y,_e),l(_e,Ue),l(_e,Le),l(_e,Ve),l(Y,He),l(Y,pe),l(pe,ae),l(pe,ut),l(pe,Se),ct||(mt=[Ie(S,"click",s[14]),Ie(W,"input",s[16]),Ie(M,"change",s[17]),Ie(ae,"click",s[22]),Ie(Se,"click",s[13])],ct=!0)},p(_,[D]){var je;D&8&&R!==(R=new Date(_[3]).toLocaleString("fr-FR")+"")&&ot(L,R),Ze!==(Ze=_t(_))&&(ye.d(1),ye=Ze(_),ye&&(ye.c(),ye.m(S,null))),D&256&&(S.disabled=_[8]),D&32&&X!==(X=_[5].length+"")&&ot(Pe,X),D&1&&W.value!==_[0]&&xe(W,_[0]),D&2&&yt(M,_[1]),$e===($e=gt(_))&&ve?ve.p(_,D):(ve.d(1),ve=$e(_),ve&&(ve.c(),ve.m(g,null))),D&1028&&ge!==(ge=(_[10]?(je=_[2])==null?void 0:je.filter(_[21])[0].username:"")+"")&&ot(Le,ge),D&128&&Xe!==(Xe="fixed inset-0 bg-neutral-600/50 dark:bg-neutral-900/50 flex justify-center items-center tranition-all "+(_[7]?"z-50 opacity-100":"-z-10 opacity-0"))&&t(se,"class",Xe)},i:it,o:it,d(_){_&&(a(d),a(i),a(Ae),a(se)),a(e),Ne&&Ne.d(),ye.d(),ve.d(),ct=!1,Nt(mt)}}}function Kt(s,e,r){let{data:o}=e,{user:d,users:i,ratesUpdatedAt:h}=o,n=9,C=i.slice(0,n),v=!1,V=!1,ie=!1,F,N,B,y;function H(p){r(6,v=!0);const I=document.querySelector(`[data-user-id="${p}"]`),O=I.querySelector('[name="username"]').value,T=I.querySelector('[name="email"]').value,G=I.querySelector('[name="isPremium"]').value=="true",R=I.querySelector('[name="isAdmin"]').value=="true";fetch("/api/updateUser",{method:"PATCH",body:JSON.stringify({id:p,username:O,email:T,isPremium:G,isAdmin:R})}).then(j=>j.json()).then(j=>{We("success",j.message)}).catch(j=>{We("error",j)}).finally(()=>{r(6,v=!1)})}function be(){fetch("/api/deleteUser",{method:"DELETE",body:JSON.stringify({id:B})}).then(p=>p.json()).then(p=>{We("success",p.message)}).catch(p=>{We("error",p)}).finally(()=>{r(2,i=i.filter(p=>p.id!==B)),r(7,V=!1),r(10,B=void 0)})}function ue(){N||r(0,N=""),y||r(1,y="*");const p=2,I=N.toLowerCase().split(" ");r(5,C=i.filter(O=>y=="*"?!0:y==O.isPremium.toString()).filter(O=>{const T=`${O.username} ${O.email}`.toLowerCase().split(" ");for(let G=0;G<I.length;G++){const R=I[G];let L=!1;for(let j=0;j<T.length;j++){const S=T[j];if(S.includes(R)){L=!0;break}if(R.length-S.length<=p){let ce=0;for(let g=0;g<S.length&&!(S[g]!==R[g]&&(ce++,ce>p));g++);if(ce<=p){L=!0;break}}}if(!L)return!1}return!0})),r(4,n=9)}function q(){r(8,ie=!0),fetch("/api/update-exchange-rates",{method:"POST"}).then(p=>p.json()).then(p=>{console.log(p),p.ok?(r(3,h=new Date),We("success",p.message)):We("error",p.message),r(8,ie=!1)})}function J(){N=this.value,r(0,N)}function ke(){y=Ut(this),r(1,y)}const we=p=>{r(10,B=p.id),r(7,V=!0)},P=p=>{H(p.id),r(9,F=p.id)},$=()=>{r(4,n+=9)},Ee=p=>p.id===B,A=()=>{r(7,V=!1)};return s.$$set=p=>{"data"in p&&r(15,o=p.data)},s.$$.update=()=>{s.$$.dirty&1&&ue(),s.$$.dirty&2&&ue()},[N,y,i,h,n,C,v,V,ie,F,B,d,H,be,q,o,J,ke,we,P,$,Ee,A]}class tl extends Vt{constructor(e){super(),Ht(this,e,Kt,Qt,Bt,{data:15})}}export{tl as component};
